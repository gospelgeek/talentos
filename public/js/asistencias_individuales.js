    function redireccionar(id){
        //console.log($(id).attr("id"));
        location.href=`../ver_estudiante/${$(id).attr("id")}?css=titulo-5#ti5`;
    }

    var encargado = $('#encargado').data('condition');
    if(encargado == 1 || encargado == 2){
        var table = $("#example1").DataTable({
            
            "ajax":{

                "method":"GET",
                "url": "/asistencias_linea_1",
                "data": function(d){
                    var i
                    for (i = 0; i < document.mes.filtro.length; i++){ 
                        if (document.mes.filtro[i].checked) {
                            break; 
                        }
                    }
                    d.mes = document.mes.filtro[i].value;                 
                },            
            },
            "columns": [
                {data: 'name',className:'table-bordered'},
                {data: 'lastname',className:'table-bordered'},
                {data: 'tipo_documento',className:'table-bordered'},
                {data: 'document_number',className:'table-bordered'},
                {data: 'grupo_name',className:'table-bordered'},
                {data: 'encargado',className:'table-bordered'},
                {data: 'estado',className:'table-bordered'},
                {data: null,className:'table-bordered',"visible": false, render:function(data,type,row,meta){
                        if (typeof data.fecha_aceptacion !== 'undefined') {
                            return data.fecha_aceptacion;
                        }else{
                            return "-";
                        }
                    }
                },
                //JORNADAS
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }  
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                //ARTES
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                //BIOLOGIA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){

                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    
                        //console.log(asistencias);
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                //CULTURA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CULTURA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "CULTURA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                //DEPORTE
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                //DIALOGO
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                //FILOSOFIA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FILOSOFIA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FILOSOFIA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                //FISICA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FISICA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                //GEOGRAFIA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                //HISTORIA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                //INGLES
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "INGLES" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                //LECTURA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                //MATEMATICAS
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                //QUIMICA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                return parseInt(calificadas)+"%";
                            }
                        }

                        return calificadas;
                    }
                },
                //TECNOLOGIA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                return parseInt(calificadas)+"%";
                            }
                        }

                        return calificadas;
                    }
                },
                //Total Virtuales
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var virtual=0;
                        for(const i in data.cursos_virtuales){
                            virtual = virtual + parseInt(data.cursos_virtuales[i].Total)    
                        }
                        var total = virtual;
                        return '<label>'+total+'</label>';
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;

                        for(const i in data.calificadas_virtuales){

                            calificadas += parseInt(data.calificadas_virtuales[i].calificadas);      
                        }

                        return '<label>'+calificadas+'</label>';         
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                                
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                        }  

                        for(const i in data.calificadas_virtuales){
                            
                            calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                        }

                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                return parseInt(calificadas)+"%";
                            }
                        }

                        return calificadas;
                    }
                },
                //Total Presenciales
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        var presencial=0;
                        for(const i in data.cursos_presenciales){
                            presencial = presencial + parseInt(data.cursos_presenciales[i].Total)    
                        }
                        var total = presencial;
                        return '<label>'+total+'</label>';
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;

                        for(const i in data.calificadas_presenciales){

                            calificadas += parseInt(data.calificadas_presenciales[i].calificadas);      
                        }

                        return '<label>'+calificadas+'</label>';         
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_presenciales){
                                
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                        }  

                        for(const i in data.calificadas_presenciales){
                            
                            calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                        }

                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                return parseInt(calificadas)+"%";
                            }
                        }

                        return calificadas;
                    }
                },
                //TotalES
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        var virtual=0;
                        var presencial=0;
                        for(const i in data.cursos_virtuales){
                            virtual = virtual + parseInt(data.cursos_virtuales[i].Total)    
                        }

                        for(const i in data.cursos_presenciales){
                            presencial = presencial + parseInt(data.cursos_presenciales[i].Total)
                            
                        }
                        var total = virtual+presencial;
                        return '<label>'+total+'</label>';
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;

                        for(const i in data.calificadas_virtuales){

                            calificadas += parseInt(data.calificadas_virtuales[i].calificadas);      
                        }

                        for(const i in data.calificadas_presenciales){
                
                            calificadas += parseInt(data.calificadas_presenciales[i].calificadas);    
                        }
                        return '<label>'+calificadas+'</label>';         
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                                
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                        }
                        for(const i in data.cursos_presenciales){
                            
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                        }    

                        for(const i in data.calificadas_virtuales){
                            
                            calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                        }

                        for(const i in data.calificadas_presenciales){
                           
                            calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                        }

                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                calificadas = 100;
                                return '<label style="background-color: #34E82E;">'+parseInt(calificadas)+'%</label>';
                            }else if(calificadas >= 80){
                                return '<label style="background-color: #34E82E;">'+parseInt(calificadas)+'%</label>';
                            }else{
                                return '<label>'+parseInt(calificadas)+'%</label>';   
                            }
                        }

                        return calificadas;
                    }
                },
                //CambioGrupo
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var grupo = " "+data.grupo_name.toUpperCase()+" ";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split("-",2)[1] != grupo){
                                return "SI";
                            }        
                        }

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split("-",2)[1] != grupo){
                                return "SI";
                            }
                        }

                        return "NO";
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var mstr;
                   
                        mstr = '<div class="row">'+                                  
                                                '<div class="col-xs-4 col-sm-4">'+
                                                    '<a id="'+data.id+'" title="Ver Informacion" onclick="redireccionar(this)" class="btn btn-block btn-sm  fa fa-eye"></a>'+    
                                                '</div>'+                                                
                                            '</div>'; 
                        return mstr;
                    }
                }
            ],
            "deferRender": true,"responsive": false,"processing": true,'serverSider':true,
            "paging": true, "lengthChange": false, "autoWidth": false,"order": [[0,'asc']],
            "dom":'Bfrtip',
            scrollY:        false,
            scrollX:        true,
            scrollCollapse: true,fixedColumns:{
            leftColumns: 5
            },
            buttons:{
                dom:{
                    button:{
                        className:'btn'
                    }
                },
                buttons:[
                    {
                        extend:"excelHtml5",
                        title:"",
                        filename:"Asistencias Estudiantes Linea 1",
                        text:'Exportar a Excel',
                        className: 'btn-outline-success',
                        messageBottom: false,
                        exportOptions: {
                        
                            columns: ':visible th:not("#ultima1")'

                        },
                        customize: function (xlsx) {
                            var sheet = xlsx.xl.worksheets['sheet1.xml'];
                            var mergeCells = $('mergeCells', sheet);
                            
                            var numrows = 2;
                            var clR = $('row', sheet);
 
                            //update Row
                            clR.each(function () {
                                var attr = $(this).attr('r');
                                var ind = parseInt(attr);
                                ind = ind + numrows;
                                $(this).attr("r", ind);
                            });
 
                            // Create row before data
                            $('row c ', sheet).each(function () {
                                var attr = $(this).attr('r');
                                var pre = attr.substring(0, 1);
                                var ind = parseInt(attr.substring(1, attr.length));
                                ind = ind + numrows;
                                $(this).attr("r", pre + ind);
                            });
 
                            function Addrow(index, data) {
                            var msg = '<row r="' + index + '">'
                                for (var i = 0; i < data.length; i++) {
                                    var key = data[i].key;
                                    var value = data[i].value;
                                    msg += '<c t="inlineStr" r="' + key + index + '">';
                                    msg += '<is>';
                                    msg += '<t>' + value + '</t>';
                                    msg += '</is>';
                                    msg += '</c>';
                                }
                                msg += '</row>';
                                return msg;
                            }
 
                            var fecha_json = new Date();
                            var titulo = "REPORTE ASISTENCIAS LINEA 1 "+"\n"+"Fecha de generación: "+fecha_json.toLocaleString();

                            var fecha_aceptacion = $("#aceptacion").is(":checked");

                            if(!fecha_aceptacion){
                                var r1 = Addrow(1, [{ key: 'A', value: titulo  }]);
                                var r2 = Addrow(2, [{ key: 'A', value: "Nombres" }])
                                var r3 = Addrow(2, [{ key: 'B', value: "Apellidos" }])
                                var r4 = Addrow(2, [{ key: 'C', value: "Tipo Documento" }])
                                var r5 = Addrow(2, [{ key: 'D', value: "N° Documento" }])
                                var r6 = Addrow(2, [{ key: 'E', value: "Grupo" }])
                                var r7 = Addrow(2, [{ key: 'F', value: "Profesional Encargado" }])
                                var r8 = Addrow(2, [{ key: 'G', value: "Estado" }])
                                var r9 = Addrow(2, [{ key: 'H', value: "ACCION CIUDADANA" }])
                                var r10 = Addrow(2, [{ key: 'R', value: "ARTES" }])
                                var r11 = Addrow(2, [{ key: 'AB', value: "BIOLOGIA" }])
                                var r12 = Addrow(2, [{ key: 'AL', value: "CULTURA DEMOCRATICA" }])
                                var r13 = Addrow(2, [{ key: 'AV', value: "DEPORTE" }])
                                var r14 = Addrow(2, [{ key: 'BF', value: "DIALOGO" }])
                                var r15 = Addrow(2, [{ key: 'BP', value: "FILOSOFIA" }])
                                var r16 = Addrow(2, [{ key: 'BZ', value: "FISICA" }])
                                var r17 = Addrow(2, [{ key: 'CJ', value: "GEOGRAFIA" }])
                                var r18 = Addrow(2, [{ key: 'CT', value: "HISTORIA" }])
                                var r19 = Addrow(2, [{ key: 'DD', value: "INGLES" }])
                                var r20 = Addrow(2, [{ key: 'DN', value: "LECTURA CRITICA" }])
                                var r21 = Addrow(2, [{ key: 'DX', value: "MATEMATICAS" }])
                                var r22 = Addrow(2, [{ key: 'EH', value: "QUIMICA" }])
                                var r23 = Addrow(2, [{ key: 'ER', value: "TIC" }])
                                var r24 = Addrow(2, [{ key: 'FB', value: "Total" }])
                                var r25 = Addrow(2, [{ key: 'FK', value: "Cambio Grupo" }])
                                sheet.childNodes[0].childNodes[1].innerHTML = r1 +r2+ r3+r4 +r5+ r6+r7 +r8+ r9 +r10 +r11+ r12+r13 +r14+ r15+r16+r17 +r18+ r19 + r20+r21+r22+r23+r24+r25+sheet.childNodes[0].childNodes[1].innerHTML;

                                $('row c[r="A1"]', sheet).attr( 's', '51' );
                                $('row c[r="A2"]', sheet).attr( 's', '2' );
                                $('row c[r="B2"]', sheet).attr( 's', '2' );
                                $('row c[r="C2"]', sheet).attr( 's', '2' );
                                $('row c[r="D2"]', sheet).attr( 's', '2' );
                                $('row c[r="E2"]', sheet).attr( 's', '2' );
                                $('row c[r="F2"]', sheet).attr( 's', '2' );
                                $('row c[r="G2"]', sheet).attr( 's', '2' );
                                $('row c[r="H2"]', sheet).attr( 's', '2' );
                                $('row c[r="R2"]', sheet).attr( 's', '2' );
                                $('row c[r="AB2"]', sheet).attr( 's', '2' );
                                $('row c[r="AL2"]', sheet).attr( 's', '2' );
                                $('row c[r="AV2"]', sheet).attr( 's', '2' );
                                $('row c[r="BF2"]', sheet).attr( 's', '2' );
                                $('row c[r="BP2"]', sheet).attr( 's', '2' );
                                $('row c[r="BZ2"]', sheet).attr( 's', '2' );
                                $('row c[r="CJ2"]', sheet).attr( 's', '2' );
                                $('row c[r="CT2"]', sheet).attr( 's', '2' );
                                $('row c[r="DD2"]', sheet).attr( 's', '2' );
                                $('row c[r="DN2"]', sheet).attr( 's', '2' );
                                $('row c[r="DX2"]', sheet).attr( 's', '2' );
                                $('row c[r="EH2"]', sheet).attr( 's', '2' );
                                $('row c[r="ER2"]', sheet).attr( 's', '2' );
                                $('row c[r="FB2"]', sheet).attr( 's', '2' );
                                $('row c[r="FK2"]', sheet).attr( 's', '2' );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'A1:FK1',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'A2:A3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'B2:B3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'C2:C3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'D2:D3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'E2:E3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'F2:F3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'G2:G3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'H2:Q2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'R2:AA2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AB2:AK2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AL2:AU2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AV2:BE2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BF2:BO2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BP2:BY2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BZ2:CI2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'CJ2:CS2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'CT2:DC2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DD2:DM2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DN2:DW2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DX2:EG2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'EH2:EQ2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'ER2:FA2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'FB2:FJ2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'FK2:FK3',
                                    }
                                } ) );
                            }else{
                                var r1 = Addrow(1, [{ key: 'A', value: titulo  }]);
                                var r2 = Addrow(2, [{ key: 'A', value: "Nombres" }])
                                var r3 = Addrow(2, [{ key: 'B', value: "Apellidos" }])
                                var r4 = Addrow(2, [{ key: 'C', value: "Tipo Documento" }])
                                var r5 = Addrow(2, [{ key: 'D', value: "N° Documento" }])
                                var r6 = Addrow(2, [{ key: 'E', value: "Grupo" }])
                                var r7 = Addrow(2, [{ key: 'F', value: "Profesional Encargado" }])
                                var r8 = Addrow(2, [{ key: 'G', value: "Estado" }])
                                var r9 = Addrow(2, [{ key: 'I', value: "ACCION CIUDADANA" }])
                                var r10 = Addrow(2, [{ key: 'S', value: "ARTES" }])
                                var r11 = Addrow(2, [{ key: 'AC', value: "BIOLOGIA" }])
                                var r12 = Addrow(2, [{ key: 'AM', value: "CULTURA DEMOCRATICA" }])
                                var r13 = Addrow(2, [{ key: 'AW', value: "DEPORTE" }])
                                var r14 = Addrow(2, [{ key: 'BG', value: "DIALOGO" }])
                                var r15 = Addrow(2, [{ key: 'BQ', value: "FILOSOFIA" }])
                                var r16 = Addrow(2, [{ key: 'CA', value: "FISICA" }])
                                var r17 = Addrow(2, [{ key: 'CK', value: "GEOGRAFIA" }])
                                var r18 = Addrow(2, [{ key: 'CU', value: "HISTORIA" }])
                                var r19 = Addrow(2, [{ key: 'DE', value: "INGLES" }])
                                var r20 = Addrow(2, [{ key: 'DO', value: "LECTURA CRITICA" }])
                                var r21 = Addrow(2, [{ key: 'DY', value: "MATEMATICAS" }])
                                var r22 = Addrow(2, [{ key: 'EI', value: "QUIMICA" }])
                                var r23 = Addrow(2, [{ key: 'ES', value: "TIC" }])
                                var r24 = Addrow(2, [{ key: 'FC', value: "Total" }])
                                var r25 = Addrow(2, [{ key: 'FL', value: "Cambio Grupo" }])
                                var r26 = Addrow(2, [{ key: 'H', value: "Fecha Aceptacion" }])
                                sheet.childNodes[0].childNodes[1].innerHTML = r1 +r2+ r3+r4 +r5+ r6+r7 +r8+r26+r9 +r10 +r11+ r12+r13 +r14+ r15+r16+r17 +r18+ r19 + r20+r21+r22+r23+r24+r25+sheet.childNodes[0].childNodes[1].innerHTML;

                                $('row c[r="A1"]', sheet).attr( 's', '51' );
                                $('row c[r="A2"]', sheet).attr( 's', '2' );
                                $('row c[r="B2"]', sheet).attr( 's', '2' );
                                $('row c[r="C2"]', sheet).attr( 's', '2' );
                                $('row c[r="D2"]', sheet).attr( 's', '2' );
                                $('row c[r="E2"]', sheet).attr( 's', '2' );
                                $('row c[r="F2"]', sheet).attr( 's', '2' );
                                $('row c[r="G2"]', sheet).attr( 's', '2' );
                                $('row c[r="H2"]', sheet).attr( 's', '2' );
                                $('row c[r="I2"]', sheet).attr( 's', '2' );
                                $('row c[r="S2"]', sheet).attr( 's', '2' );
                                $('row c[r="AC2"]', sheet).attr( 's', '2' );
                                $('row c[r="AM2"]', sheet).attr( 's', '2' );
                                $('row c[r="AW2"]', sheet).attr( 's', '2' );
                                $('row c[r="BG2"]', sheet).attr( 's', '2' );
                                $('row c[r="BQ2"]', sheet).attr( 's', '2' );
                                $('row c[r="CA2"]', sheet).attr( 's', '2' );
                                $('row c[r="CK2"]', sheet).attr( 's', '2' );
                                $('row c[r="CU2"]', sheet).attr( 's', '2' );
                                $('row c[r="DE2"]', sheet).attr( 's', '2' );
                                $('row c[r="DO2"]', sheet).attr( 's', '2' );
                                $('row c[r="DY2"]', sheet).attr( 's', '2' );
                                $('row c[r="EI2"]', sheet).attr( 's', '2' );
                                $('row c[r="ES2"]', sheet).attr( 's', '2' );
                                $('row c[r="FC2"]', sheet).attr( 's', '2' );
                                $('row c[r="FL2"]', sheet).attr( 's', '2' );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'A1:FL1',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'A2:A3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'B2:B3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'C2:C3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'D2:D3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'E2:E3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'F2:F3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'G2:G3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'H2:H3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'I2:R2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'S2:AB2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AC2:AL2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AM2:AV2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AW2:BF2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BG2:BP2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BQ2:BZ2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'CA2:CJ2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'CK2:CT2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'CU2:DD2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DE2:DN2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DO2:DX2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DY2:EH2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'EI2:ER2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'ES2:FB2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'FC2:FK2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'FL2:FL3',
                                    }
                                } ) );
                            }

                            mergeCells.attr('count', mergeCells.attr( 'count' )+1 );
                
 
                            function _createNode( doc, nodeName, opts ) {
                                var tempNode = doc.createElement( nodeName );
 
                                if ( opts ) {
                                    if ( opts.attr ) {
                                     $(tempNode).attr( opts.attr );
                                    }
 
                                    if ( opts.children ) {
                                        $.each( opts.children, function ( key, value ) {
                                            tempNode.appendChild( value );
                                        } );
                                    }
 
                                    if ( opts.text !== null && opts.text !== undefined ) {
                                        tempNode.appendChild( doc.createTextNode( opts.text ) );
                                    }
                                }
                                return tempNode;
                            }     
                        },
                    }
                ]
            }
        });

        var table2 = $("#example2").DataTable({
            
            "ajax":{

                "method":"GET",
                "url": "/asistencias_linea_2",
                "data": function(d){
                    var i
                    for (i = 0; i < document.mes.filtro.length; i++){ 
                        if (document.mes.filtro[i].checked) {
                            break; 
                        }
                    }
                    d.mes = document.mes.filtro[i].value;
                },           
            },
            "columns": [
                {data: 'name',className:'table-bordered'},
                {data: 'lastname',className:'table-bordered'},
                {data: 'tipo_documento',className:'table-bordered'},
                {data: 'document_number',className:'table-bordered'},
                {data: 'grupo_name',className:'table-bordered'},
                {data: 'encargado',className:'table-bordered'},
                {data: 'estado',className:'table-bordered'},
                {data: null,className:'table-bordered',"visible": false, render:function(data,type,row,meta){
                        if (typeof data.fecha_aceptacion !== 'undefined') {
                            return data.fecha_aceptacion;
                        }else{
                            return "-";
                        }
                    }
                },
                //JORNADAS
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //ARTES:
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //BIOLOGIA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //DEPORTE
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //DIALOGO
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //CONSTITUCION
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //FISICA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FISICA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //GEOGRAFIA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //HISTORIA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //INGLES
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "INGLES" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //LECTURA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //MATEMATICAS
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //QUIMICA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //TECNOLOGIA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //Total Virtuales
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var virtual=0;
                        for(const i in data.cursos_virtuales){
                            virtual = virtual + parseInt(data.cursos_virtuales[i].Total)    
                        }
                        var total = virtual;
                        return '<label>'+total+'</label>';
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;

                        for(const i in data.calificadas_virtuales){

                            calificadas += parseInt(data.calificadas_virtuales[i].calificadas);      
                        }

                        return '<label>'+calificadas+'</label>';         
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                                
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                        }  

                        for(const i in data.calificadas_virtuales){
                            
                            calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                        }

                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                return parseInt(calificadas)+"%";
                            }
                        }

                        return calificadas;
                    }
                },
                //Total Presenciales
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        var presencial=0;
                        for(const i in data.cursos_presenciales){
                            presencial = presencial + parseInt(data.cursos_presenciales[i].Total)    
                        }
                        var total = presencial;
                        return '<label>'+total+'</label>';
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;

                        for(const i in data.calificadas_presenciales){

                            calificadas += parseInt(data.calificadas_presenciales[i].calificadas);      
                        }

                        return '<label>'+calificadas+'</label>';         
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_presenciales){
                                
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                        }  

                        for(const i in data.calificadas_presenciales){
                            
                            calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                        }

                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                return parseInt(calificadas)+"%";
                            }
                        }

                        return calificadas;
                    }
                },
                //TotalES
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        var virtual=0;
                        var presencial=0;
                        for(const i in data.cursos_virtuales){
                            virtual = virtual + parseInt(data.cursos_virtuales[i].Total)    
                        }

                        for(const i in data.cursos_presenciales){
                            presencial = presencial + parseInt(data.cursos_presenciales[i].Total)
                            
                        }
                        var total = virtual+presencial;
                        return '<label>'+total+'</label>';
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;

                        for(const i in data.calificadas_virtuales){

                            calificadas += parseInt(data.calificadas_virtuales[i].calificadas);      
                        }

                        for(const i in data.calificadas_presenciales){
                
                            calificadas += parseInt(data.calificadas_presenciales[i].calificadas);    
                        }
                        return '<label>'+calificadas+'</label>';         
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                                
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                        }
                        for(const i in data.cursos_presenciales){
                            
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                        }    

                        for(const i in data.calificadas_virtuales){
                            
                            calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                        }

                        for(const i in data.calificadas_presenciales){
                           
                            calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                        }

                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                calificadas = 100;
                                return '<label style="background-color: #34E82E;">'+parseInt(calificadas)+'%</label>';
                            }else if(calificadas >= 80){
                                return '<label style="background-color: #34E82E;">'+parseInt(calificadas)+'%</label>';
                            }else{
                                return '<label>'+parseInt(calificadas)+'%</label>';   
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var grupo = " "+data.grupo_name.toUpperCase()+" ";
                        for(const i in data.cursos_virtuales){
                            
                            if(data.cursos_virtuales[i].fullname.split("-",2)[1] != grupo){
                                return "SI";
                            }        
                        }

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split("-",2)[1] != grupo){
                                return "SI";
                            }
                        }

                        return "NO";
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                    
                        var mstr;
                   
                        mstr = '<div class="row">'+                                  
                                    '<div class="col-xs-4 col-sm-4">'+
                                        '<a id="'+data.id+'" target="_blank" title="Ver Informacion" onclick="redireccionar(this)" class="btn btn-block btn-sm  fa fa-eye"></a>'+    
                                    '</div>'+                                                
                                '</div>'; 
                        return mstr;
                    }
                }

            ],

            "deferRender": true,"responsive": false,"processing": true,'serverSider':true,
            "paging": true, "lengthChange": false, "autoWidth": false,"order": [[0,'asc']],
            "dom":'Bfrtip',
            scrollY:        false,
            scrollX:        true,
            scrollCollapse: true,fixedColumns:{
            leftColumns: 5
            },
            buttons:{
                dom:{
                    button:{
                        className:'btn'
                    }
                },
                buttons:[
                    {
                        extend:"excelHtml5",
                        title:"",
                        filename:"Asistencias Estudiantes Linea 2",
                        text:'Exportar a Excel',
                        className: 'btn-outline-success',
                        messageBottom: false,
                        exportOptions: {
                        
                            columns: ':visible th:not("#ultima2")'
                        },
                        customize: function (xlsx) {
                            var sheet = xlsx.xl.worksheets['sheet1.xml'];
                            var mergeCells = $('mergeCells', sheet);
 
                            function _createNode( doc, nodeName, opts ) {
                                var tempNode = doc.createElement( nodeName );
 
                                if ( opts ) {
                                    if ( opts.attr ) {
                                     $(tempNode).attr( opts.attr );
                                    }
 
                                    if ( opts.children ) {
                                        $.each( opts.children, function ( key, value ) {
                                            tempNode.appendChild( value );
                                        } );
                                    }
 
                                    if ( opts.text !== null && opts.text !== undefined ) {
                                        tempNode.appendChild( doc.createTextNode( opts.text ) );
                                    }
                                }
                                return tempNode;
                            }

                            var numrows = 2;
                            var clR = $('row', sheet);
 
                            //update Row
                            clR.each(function () {
                                var attr = $(this).attr('r');
                                var ind = parseInt(attr);
                                ind = ind + numrows;
                                $(this).attr("r", ind);
                            });
 
                            // Create row before data
                            $('row c ', sheet).each(function () {
                                var attr = $(this).attr('r');
                                var pre = attr.substring(0, 1);
                                var ind = parseInt(attr.substring(1, attr.length));
                                ind = ind + numrows;
                                $(this).attr("r", pre + ind);
                            });
 
                            function Addrow(index, data) {
                            var msg = '<row r="' + index + '">'
                                for (var i = 0; i < data.length; i++) {
                                    var key = data[i].key;
                                    var value = data[i].value;
                                    msg += '<c t="inlineStr" r="' + key + index + '">';
                                    msg += '<is>';
                                    msg += '<t>' + value + '</t>';
                                    msg += '</is>';
                                    msg += '</c>';
                                }
                                msg += '</row>';
                                return msg;
                            }
 
                            var fecha_json = new Date();
                            var titulo = "REPORTE ASISTENCIAS LINEA 2 "+"\n"+"Fecha de generación: "+fecha_json.toLocaleString();

                            var fecha_aceptacion = $("#aceptacion").is(":checked");

                            if(!fecha_aceptacion){
                                var r1 = Addrow(1, [{ key: 'A', value: titulo  }]);
                                var r2 = Addrow(2, [{ key: 'A', value: "Nombres" }])
                                var r3 = Addrow(2, [{ key: 'B', value: "Apellidos" }])
                                var r4 = Addrow(2, [{ key: 'C', value: "Tipo Documento" }])
                                var r5 = Addrow(2, [{ key: 'D', value: "N° Documento" }])
                                var r6 = Addrow(2, [{ key: 'E', value: "Grupo" }])
                                var r7 = Addrow(2, [{ key: 'F', value: "Profesional Encargado" }])
                                var r8 = Addrow(2, [{ key: 'G', value: "Estado" }])
                                var r9 = Addrow(2, [{ key: 'H', value: "ACCION CIUDADANA" }])
                                var r10 = Addrow(2, [{ key: 'R', value: "ARTES" }])
                                var r11 = Addrow(2, [{ key: 'AB', value: "BIOLOGIA" }])
                                var r13 = Addrow(2, [{ key: 'AL', value: "DEPORTE" }])
                                var r14 = Addrow(2, [{ key: 'AV', value: "DIALOGO" }])
                                var r15 = Addrow(2, [{ key: 'BF', value: "CONSTITUCION" }])
                                var r16 = Addrow(2, [{ key: 'BP', value: "FISICA" }])
                                var r17 = Addrow(2, [{ key: 'BZ', value: "GEOGRAFIA" }])
                                var r18 = Addrow(2, [{ key: 'CJ', value: "HISTORIA" }])
                                var r19 = Addrow(2, [{ key: 'CT', value: "INGLES" }])
                                var r20 = Addrow(2, [{ key: 'DD', value: "LECTURA CRITICA" }])
                                var r21 = Addrow(2, [{ key: 'DN', value: "MATEMATICAS" }])
                                var r22 = Addrow(2, [{ key: 'DX', value: "QUIMICA" }])
                                var r23 = Addrow(2, [{ key: 'EH', value: "TIC" }])
                                var r24 = Addrow(2, [{ key: 'ER', value: "Total" }])
                                var r25 = Addrow(2, [{ key: 'FA', value: "Cambio Grupo" }])
                            
                                sheet.childNodes[0].childNodes[1].innerHTML = r1 +r2+ r3+r4 +r5+ r6+r7 +r8+ r9 +r10 +r11+r13 +r14+ r15+r16+r17 +r18+ r19 + r20+r21+r22+r23+r24+r25+sheet.childNodes[0].childNodes[1].innerHTML;

                                $('row c[r="A1"]', sheet).attr( 's', '51' );
                                $('row c[r="A2"]', sheet).attr( 's', '2' );
                                $('row c[r="B2"]', sheet).attr( 's', '2' );
                                $('row c[r="C2"]', sheet).attr( 's', '2' );
                                $('row c[r="D2"]', sheet).attr( 's', '2' );
                                $('row c[r="E2"]', sheet).attr( 's', '2' );
                                $('row c[r="F2"]', sheet).attr( 's', '2' );
                                $('row c[r="G2"]', sheet).attr( 's', '2' );
                                $('row c[r="H2"]', sheet).attr( 's', '2' );
                                $('row c[r="R2"]', sheet).attr( 's', '2' );
                                $('row c[r="AB2"]', sheet).attr( 's', '2' );
                                $('row c[r="AL2"]', sheet).attr( 's', '2' );
                                $('row c[r="AV2"]', sheet).attr( 's', '2' );
                                $('row c[r="BF2"]', sheet).attr( 's', '2' );
                                $('row c[r="BP2"]', sheet).attr( 's', '2' );
                                $('row c[r="BZ2"]', sheet).attr( 's', '2' );
                                $('row c[r="CJ2"]', sheet).attr( 's', '2' );
                                $('row c[r="CT2"]', sheet).attr( 's', '2' );
                                $('row c[r="DD2"]', sheet).attr( 's', '2' );
                                $('row c[r="DN2"]', sheet).attr( 's', '2' );
                                $('row c[r="DX2"]', sheet).attr( 's', '2' );
                                $('row c[r="EH2"]', sheet).attr( 's', '2' );
                                $('row c[r="ER2"]', sheet).attr( 's', '2' );
                                $('row c[r="FA2"]', sheet).attr( 's', '2' );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'A1:FA1',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'A2:A3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'B2:B3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'C2:C3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'D2:D3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'E2:E3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'F2:F3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'G2:G3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'H2:Q2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'R2:AA2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AB2:AK2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AL2:AU2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AV2:BE2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BF2:BO2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BP2:BY2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BZ2:CI2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'CJ2:CS2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'CT2:DC2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DD2:DM2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DN2:DW2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DX2:EG2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'EH2:EQ2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'ER2:EZ2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'FA2:FA3',
                                    }
                                } ) );
                            }else{
                                var r1 = Addrow(1, [{ key: 'A', value: titulo  }]);
                                var r2 = Addrow(2, [{ key: 'A', value: "Nombres" }])
                                var r3 = Addrow(2, [{ key: 'B', value: "Apellidos" }])
                                var r4 = Addrow(2, [{ key: 'C', value: "Tipo Documento" }])
                                var r5 = Addrow(2, [{ key: 'D', value: "N° Documento" }])
                                var r6 = Addrow(2, [{ key: 'E', value: "Grupo" }])
                                var r7 = Addrow(2, [{ key: 'F', value: "Profesional Encargado" }])
                                var r8 = Addrow(2, [{ key: 'G', value: "Estado" }])
                                var r9 = Addrow(2, [{ key: 'I', value: "ACCION CIUDADANA" }])
                                var r10 = Addrow(2, [{ key: 'S', value: "ARTES" }])
                                var r11 = Addrow(2, [{ key: 'AC', value: "BIOLOGIA" }])
                                var r13 = Addrow(2, [{ key: 'AM', value: "DEPORTE" }])
                                var r14 = Addrow(2, [{ key: 'AW', value: "DIALOGO" }])
                                var r15 = Addrow(2, [{ key: 'BG', value: "CONSTITUCION" }])
                                var r16 = Addrow(2, [{ key: 'BQ', value: "FISICA" }])
                                var r17 = Addrow(2, [{ key: 'CA', value: "GEOGRAFIA" }])
                                var r18 = Addrow(2, [{ key: 'CK', value: "HISTORIA" }])
                                var r19 = Addrow(2, [{ key: 'CU', value: "INGLES" }])
                                var r20 = Addrow(2, [{ key: 'DE', value: "LECTURA CRITICA" }])
                                var r21 = Addrow(2, [{ key: 'DO', value: "MATEMATICAS" }])
                                var r22 = Addrow(2, [{ key: 'DY', value: "QUIMICA" }])
                                var r23 = Addrow(2, [{ key: 'EI', value: "TIC" }])
                                var r24 = Addrow(2, [{ key: 'ES', value: "Total" }])
                                var r25 = Addrow(2, [{ key: 'FB', value: "Cambio Grupo" }])
                                var r26 = Addrow(2, [{ key: 'H', value: "Fecha Aceptacion" }])
                            
                                sheet.childNodes[0].childNodes[1].innerHTML = r1 +r2+ r3+r4 +r5+ r6+r7 +r8+r26+ r9+r10 +r11+r13 +r14+ r15+r16+r17 +r18+ r19 + r20+r21+r22+r23+r24+r25+sheet.childNodes[0].childNodes[1].innerHTML;

                                $('row c[r="A1"]', sheet).attr( 's', '51' );
                                $('row c[r="A2"]', sheet).attr( 's', '2' );
                                $('row c[r="B2"]', sheet).attr( 's', '2' );
                                $('row c[r="C2"]', sheet).attr( 's', '2' );
                                $('row c[r="D2"]', sheet).attr( 's', '2' );
                                $('row c[r="E2"]', sheet).attr( 's', '2' );
                                $('row c[r="F2"]', sheet).attr( 's', '2' );
                                $('row c[r="G2"]', sheet).attr( 's', '2' );
                                $('row c[r="H2"]', sheet).attr( 's', '2' );
                                $('row c[r="I2"]', sheet).attr( 's', '2' );
                                $('row c[r="S2"]', sheet).attr( 's', '2' );
                                $('row c[r="AC2"]', sheet).attr( 's', '2' );
                                $('row c[r="AM2"]', sheet).attr( 's', '2' );
                                $('row c[r="AW2"]', sheet).attr( 's', '2' );
                                $('row c[r="BG2"]', sheet).attr( 's', '2' );
                                $('row c[r="BQ2"]', sheet).attr( 's', '2' );
                                $('row c[r="CA2"]', sheet).attr( 's', '2' );
                                $('row c[r="CK2"]', sheet).attr( 's', '2' );
                                $('row c[r="CU2"]', sheet).attr( 's', '2' );
                                $('row c[r="DE2"]', sheet).attr( 's', '2' );
                                $('row c[r="DO2"]', sheet).attr( 's', '2' );
                                $('row c[r="DY2"]', sheet).attr( 's', '2' );
                                $('row c[r="EI2"]', sheet).attr( 's', '2' );
                                $('row c[r="ES2"]', sheet).attr( 's', '2' );
                                $('row c[r="FB2"]', sheet).attr( 's', '2' );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'A1:FB1',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'A2:A3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'B2:B3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'C2:C3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'D2:D3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'E2:E3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'F2:F3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'G2:G3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'H2:H3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'I2:R2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'S2:AB2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AC2:AL2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AM2:AV2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AW2:BF2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BG2:BP2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BQ2:BZ2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'CA2:CJ2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'CK2:CT2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'CU2:DD2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DE2:DX2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DY2:EH2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'EI2:ER2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'ES2:FA2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'FB2:FB3',
                                    }
                                } ) );
                            }
                            mergeCells.attr( 'count', mergeCells.attr( 'count' )+1 );  
                        },
                    }
                ]
            }
        });

        var table3 = $("#example3").DataTable({
            
            "ajax":{

                "method":"GET",
                "url": "/asistencias_linea_3",
                "data": function(d){
                    var i
                    for (i = 0; i < document.mes.filtro.length; i++){ 
                        if (document.mes.filtro[i].checked) {
                            break; 
                        }
                    }
                    d.mes = document.mes.filtro[i].value;
                },             
            },
            "columns": [
                {data: 'name',className:'table-bordered'},
                {data: 'lastname',className:'table-bordered'},
                {data: 'tipo_documento',className:'table-bordered'},
                {data: 'document_number',className:'table-bordered'},
                {data: 'grupo_name',className:'table-bordered'},
                {data: 'encargado',className:'table-bordered'},
                {data: 'estado',className:'table-bordered'},
                {data: null,className:'table-bordered',"visible": false, render:function(data,type,row,meta){
                        if (typeof data.fecha_aceptacion !== 'undefined') {
                            return data.fecha_aceptacion;
                        }else{
                            return "-";
                        }
                    }
                },
                //BIOLOGIA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //DIALOGO
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //CONSTITUCION
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //FISICA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FISICA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //GEOGRAFIA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //HISTORIA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //INGLES
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "INGLES" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //LECTURA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //MATEMATICAS
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //PRACTICAS
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "PRACTICAS" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "PRACTICAS" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //QUIMICA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //TECNOLOGIA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //Total Virtuales
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var virtual=0;
                        for(const i in data.cursos_virtuales){
                            virtual = virtual + parseInt(data.cursos_virtuales[i].Total)    
                        }
                        var total = virtual;
                        return '<label>'+total+'</label>';
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;

                        for(const i in data.calificadas_virtuales){

                            calificadas += parseInt(data.calificadas_virtuales[i].calificadas);      
                        }

                        return '<label>'+calificadas+'</label>';         
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                                
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                        }  

                        for(const i in data.calificadas_virtuales){
                            
                            calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                        }

                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                return parseInt(calificadas)+"%";
                            }
                        }

                        return calificadas;
                    }
                },
                //Total Presenciales
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        var presencial=0;
                        for(const i in data.cursos_presenciales){
                            presencial = presencial + parseInt(data.cursos_presenciales[i].Total)    
                        }
                        var total = presencial;
                        return '<label>'+total+'</label>';
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;

                        for(const i in data.calificadas_presenciales){

                            calificadas += parseInt(data.calificadas_presenciales[i].calificadas);      
                        }

                        return '<label>'+calificadas+'</label>';         
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_presenciales){
                                
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                        }  

                        for(const i in data.calificadas_presenciales){
                            
                            calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                        }

                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                return parseInt(calificadas)+"%";
                            }
                        }

                        return calificadas;
                    }
                },
                //TotalES
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        var virtual=0;
                        var presencial=0;
                        for(const i in data.cursos_virtuales){
                            virtual = virtual + parseInt(data.cursos_virtuales[i].Total)    
                        }

                        for(const i in data.cursos_presenciales){
                            presencial = presencial + parseInt(data.cursos_presenciales[i].Total)
                            
                        }
                        var total = virtual+presencial;
                        return '<label>'+total+'</label>';
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;

                        for(const i in data.calificadas_virtuales){

                            calificadas += parseInt(data.calificadas_virtuales[i].calificadas);      
                        }

                        for(const i in data.calificadas_presenciales){
                
                            calificadas += parseInt(data.calificadas_presenciales[i].calificadas);    
                        }

                        return '<label>'+calificadas+'</label>';         
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                                
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                        }
                        for(const i in data.cursos_presenciales){
                            
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                        }    

                        for(const i in data.calificadas_virtuales){
                            
                            calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                        }

                        for(const i in data.calificadas_presenciales){
                           
                            calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                        }

                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                calificadas = 100;
                                return '<label style="background-color: #34E82E;">'+parseInt(calificadas)+'%</label>';
                            }else if(calificadas >= 80){
                                return '<label style="background-color: #34E82E;">'+parseInt(calificadas)+'%</label>';
                            }else{
                                return '<label>'+parseInt(calificadas)+'%</label>';   
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var grupo = " "+data.grupo_name.toUpperCase()+" ";
                        for(const i in data.cursos_virtuales){
                            
                            if(data.cursos_virtuales[i].fullname.split("-",2)[1] != grupo){
                                return "SI";
                            }        
                        }

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split("-",2)[1] != grupo){
                                return "SI";
                            }
                        }

                        return "NO";
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                    
                        var mstr;
                   
                        mstr = '<div class="row">'+                                  
                                    '<div class="col-xs-4 col-sm-4">'+
                                        '<a id="'+data.id+'" target="_blank" title="Ver Informacion" onclick="redireccionar(this)" class="btn btn-block btn-sm  fa fa-eye"></a>'+    
                                    '</div>'+                                                
                                '</div>'; 
                        return mstr;
                    }
                }
            ],

            "deferRender": true,"responsive": false,"processing": true,'serverSider':true,
            "paging": true, "lengthChange": false, "autoWidth": false,"order": [[0,'asc']],
            "dom":'Bfrtip',
            scrollY:        false,
            scrollX:        true,
            scrollCollapse: true,fixedColumns:{
            leftColumns: 5
            },
            buttons:{
                dom:{
                    button:{
                        className:'btn'
                    }
                },
                buttons:[
                    {
                        extend:"excelHtml5",
                        title:"",
                        filename:"Asistencias Estudiantes Linea 3",
                        text:'Exportar a Excel',
                        className: 'btn-outline-success',
                        messageBottom: false,
                        exportOptions: {
                        
                            columns: ':visible th:not("#ultima3")'
                        },
                        customize: function (xlsx) {
                            var sheet = xlsx.xl.worksheets['sheet1.xml'];
                            var mergeCells = $('mergeCells', sheet);
 
                            function _createNode( doc, nodeName, opts ) {
                                var tempNode = doc.createElement( nodeName );
 
                                if ( opts ) {
                                    if ( opts.attr ) {
                                     $(tempNode).attr( opts.attr );
                                    }
 
                                    if ( opts.children ) {
                                        $.each( opts.children, function ( key, value ) {
                                            tempNode.appendChild( value );
                                        } );
                                    }
 
                                    if ( opts.text !== null && opts.text !== undefined ) {
                                        tempNode.appendChild( doc.createTextNode( opts.text ) );
                                    }
                                }
                                return tempNode;
                            }

                            var numrows = 2;
                            var clR = $('row', sheet);
 
                            //update Row
                            clR.each(function () {
                                var attr = $(this).attr('r');
                                var ind = parseInt(attr);
                                ind = ind + numrows;
                                $(this).attr("r", ind);
                            });
 
                            // Create row before data
                            $('row c ', sheet).each(function () {
                                var attr = $(this).attr('r');
                                var pre = attr.substring(0, 1);
                                var ind = parseInt(attr.substring(1, attr.length));
                                ind = ind + numrows;
                                $(this).attr("r", pre + ind);
                            });
 
                            function Addrow(index, data) {
                            var msg = '<row r="' + index + '">'
                                for (var i = 0; i < data.length; i++) {
                                    var key = data[i].key;
                                    var value = data[i].value;
                                    msg += '<c t="inlineStr" r="' + key + index + '">';
                                    msg += '<is>';
                                    msg += '<t>' + value + '</t>';
                                    msg += '</is>';
                                    msg += '</c>';
                                }
                                msg += '</row>';
                                return msg;
                            }
 
                            var fecha_json = new Date();
                            var titulo = "REPORTE ASISTENCIAS LINEA 3 "+"\n"+"Fecha de generación: "+fecha_json.toLocaleString();

                            var fecha_aceptacion = $("#aceptacion").is(":checked");

                            if(!fecha_aceptacion){
                                var r1 = Addrow(1, [{ key: 'A', value: titulo  }]);
                                var r2 = Addrow(2, [{ key: 'A', value: "Nombres" }])
                                var r3 = Addrow(2, [{ key: 'B', value: "Apellidos" }])
                                var r4 = Addrow(2, [{ key: 'C', value: "Tipo Documento" }])
                                var r5 = Addrow(2, [{ key: 'D', value: "N° Documento" }])
                                var r6 = Addrow(2, [{ key: 'E', value: "Grupo" }])
                                var r7 = Addrow(2, [{ key: 'F', value: "Profesional Encargado" }])
                                var r8 = Addrow(2, [{ key: 'G', value: "Estado" }])
                                var r11 = Addrow(2, [{ key: 'H', value: "BIOLOGIA" }])
                                var r14 = Addrow(2, [{ key: 'R', value: "DIALOGO" }])
                                var r15 = Addrow(2, [{ key: 'AB', value: "CONSTITUCION" }])
                                var r16 = Addrow(2, [{ key: 'AL', value: "FISICA" }])
                                var r17 = Addrow(2, [{ key: 'AV', value: "GEOGRAFIA" }])
                                var r18 = Addrow(2, [{ key: 'BF', value: "HISTORIA" }])
                                var r19 = Addrow(2, [{ key: 'BP', value: "INGLES" }])
                                var r20 = Addrow(2, [{ key: 'BZ', value: "LECTURA CRITICA" }])
                                var r21 = Addrow(2, [{ key: 'CJ', value: "MATEMATICAS" }])
                                var r22 = Addrow(2, [{ key: 'CT', value: "PRACTICAS ARTISTICAS" }])
                                var r23 = Addrow(2, [{ key: 'DD', value: "QUIMICA" }])
                                var r24 = Addrow(2, [{ key: 'DN', value: "TIC" }])
                                var r25 = Addrow(2, [{ key: 'DX', value: "Total" }])
                                var r26 = Addrow(2, [{ key: 'EG', value: "Cambio Grupo" }])
                                sheet.childNodes[0].childNodes[1].innerHTML = r1 +r2+ r3+r4 +r5+ r6+r7 +r8+r11+r14+ r15+r16+r17 +r18+ r19 + r20+r21+r22+r23+r24+r25+r26+sheet.childNodes[0].childNodes[1].innerHTML;
                                
                                $('row c[r="A1"]', sheet).attr( 's', '51' );
                                $('row c[r="A2"]', sheet).attr( 's', '2' );
                                $('row c[r="B2"]', sheet).attr( 's', '2' );
                                $('row c[r="C2"]', sheet).attr( 's', '2' );
                                $('row c[r="D2"]', sheet).attr( 's', '2' );
                                $('row c[r="E2"]', sheet).attr( 's', '2' );
                                $('row c[r="F2"]', sheet).attr( 's', '2' );
                                $('row c[r="G2"]', sheet).attr( 's', '2' );
                                $('row c[r="H2"]', sheet).attr( 's', '2' );
                                $('row c[r="R2"]', sheet).attr( 's', '2' );
                                $('row c[r="AB2"]', sheet).attr( 's', '2' );
                                $('row c[r="AL2"]', sheet).attr( 's', '2' );
                                $('row c[r="AV2"]', sheet).attr( 's', '2' );
                                $('row c[r="BF2"]', sheet).attr( 's', '2' );
                                $('row c[r="BP2"]', sheet).attr( 's', '2' );
                                $('row c[r="BZ2"]', sheet).attr( 's', '2' );
                                $('row c[r="CJ2"]', sheet).attr( 's', '2' );
                                $('row c[r="CT2"]', sheet).attr( 's', '2' );
                                $('row c[r="DD2"]', sheet).attr( 's', '2' );
                                $('row c[r="DN2"]', sheet).attr( 's', '2' );
                                $('row c[r="DX2"]', sheet).attr( 's', '2' );
                                $('row c[r="EG2"]', sheet).attr( 's', '2' );


                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'A1:EG1',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'A2:A3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'B2:B3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'C2:C3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'D2:D3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'E2:E3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'F2:F3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'G2:G3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'H2:Q2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'R2:AA2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AB2:AK2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AL2:AU2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AV2:BE2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BF2:BO2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BP2:BY2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BZ2:CI2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'CJ2:CS2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'CT2:DC2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DD2:DM2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DN2:DW2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DX2:EF2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'EG2:EG3',
                                    }
                                } ) );
                            }else{
                                var r1 = Addrow(1, [{ key: 'A', value: titulo  }]);
                                var r2 = Addrow(2, [{ key: 'A', value: "Nombres" }])
                                var r3 = Addrow(2, [{ key: 'B', value: "Apellidos" }])
                                var r4 = Addrow(2, [{ key: 'C', value: "Tipo Documento" }])
                                var r5 = Addrow(2, [{ key: 'D', value: "N° Documento" }])
                                var r6 = Addrow(2, [{ key: 'E', value: "Grupo" }])
                                var r7 = Addrow(2, [{ key: 'F', value: "Profesional Encargado" }])
                                var r8 = Addrow(2, [{ key: 'G', value: "Estado" }])
                                var r9 = Addrow(2, [{ key: 'H', value: "Fecha Aceptacion" }])
                                var r11 = Addrow(2, [{ key: 'I', value: "BIOLOGIA" }])
                                var r14 = Addrow(2, [{ key: 'S', value: "DIALOGO" }])
                                var r15 = Addrow(2, [{ key: 'AC', value: "CONSTITUCION" }])
                                var r16 = Addrow(2, [{ key: 'AM', value: "FISICA" }])
                                var r17 = Addrow(2, [{ key: 'AW', value: "GEOGRAFIA" }])
                                var r18 = Addrow(2, [{ key: 'BG', value: "HISTORIA" }])
                                var r19 = Addrow(2, [{ key: 'BQ', value: "INGLES" }])
                                var r20 = Addrow(2, [{ key: 'CA', value: "LECTURA CRITICA" }])
                                var r21 = Addrow(2, [{ key: 'CK', value: "MATEMATICAS" }])
                                var r22 = Addrow(2, [{ key: 'CU', value: "PRACTICAS ARTISTICAS" }])
                                var r23 = Addrow(2, [{ key: 'DE', value: "QUIMICA" }])
                                var r24 = Addrow(2, [{ key: 'DO', value: "TIC" }])
                                var r25 = Addrow(2, [{ key: 'DY', value: "Total" }])
                                var r26 = Addrow(2, [{ key: 'EH', value: "Cambio Grupo" }])
                                sheet.childNodes[0].childNodes[1].innerHTML = r1 +r2+ r3+r4 +r5+ r6+r7 +r8+r9+r11+r14+ r15+r16+r17 +r18+ r19 + r20+r21+r22+r23+r24+r25+r26+sheet.childNodes[0].childNodes[1].innerHTML;
                                
                                $('row c[r="A1"]', sheet).attr( 's', '51' );
                                $('row c[r="A2"]', sheet).attr( 's', '2' );
                                $('row c[r="B2"]', sheet).attr( 's', '2' );
                                $('row c[r="C2"]', sheet).attr( 's', '2' );
                                $('row c[r="D2"]', sheet).attr( 's', '2' );
                                $('row c[r="E2"]', sheet).attr( 's', '2' );
                                $('row c[r="F2"]', sheet).attr( 's', '2' );
                                $('row c[r="G2"]', sheet).attr( 's', '2' );
                                $('row c[r="H2"]', sheet).attr( 's', '2' );
                                $('row c[r="I2"]', sheet).attr( 's', '2' );
                                $('row c[r="S2"]', sheet).attr( 's', '2' );
                                $('row c[r="AC2"]', sheet).attr( 's', '2' );
                                $('row c[r="AM2"]', sheet).attr( 's', '2' );
                                $('row c[r="AW2"]', sheet).attr( 's', '2' );
                                $('row c[r="BG2"]', sheet).attr( 's', '2' );
                                $('row c[r="BQ2"]', sheet).attr( 's', '2' );
                                $('row c[r="CA2"]', sheet).attr( 's', '2' );
                                $('row c[r="CK2"]', sheet).attr( 's', '2' );
                                $('row c[r="CU2"]', sheet).attr( 's', '2' );
                                $('row c[r="DE2"]', sheet).attr( 's', '2' );
                                $('row c[r="DO2"]', sheet).attr( 's', '2' );
                                $('row c[r="DY2"]', sheet).attr( 's', '2' );
                                $('row c[r="EH2"]', sheet).attr( 's', '2' );


                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'A1:EH1',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'A2:A3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'B2:B3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'C2:C3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'D2:D3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'E2:E3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'F2:F3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'G2:G3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'H2:H3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'I2:R2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'S2:AB2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AC2:AL2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AM2:AV2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AW2:BF2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BG2:BP2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BQ2:BZ2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'CA2:CJ2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'CK2:CT2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'CU2:DD2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DE2:DN2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DO2:DX2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DY2:EG2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'EH2:EH3',
                                    }
                                } ) );
                            }
                            mergeCells.attr( 'count', mergeCells.attr( 'count' )+1 );
                        },
                    }
                ]
            }
        });
        
        $('.filtroCohortes').on('change',function(){
            var fecha_aceptacion = $("#aceptacion").is(":checked");

            if(fecha_aceptacion){
                $("input[type='radio'][name='filtro'][value='12']").prop('checked',true);
                var tabla= $('#Ecohort').val();
                if(tabla == 1){
                    $('#example1').DataTable().ajax.reload();
                    table.columns(7).visible(true);
                }else if(tabla == 2){
                    $('#example2').DataTable().ajax.reload();
                    table2.columns(7).visible(true);
                }else if(tabla == 3){
                    $('#example3').DataTable().ajax.reload();
                    table3.columns(7).visible(true);
                }
                $("input[type='radio'][name='filtro'][value='1']").prop('checked',true);
                document.querySelectorAll(`input[name="filtro"]`).forEach(element => {
                    if(element.value > 1 && element.value <= 11) {
                        element.setAttribute('disabled', true);
                    }
                });                      
            }else{
                document.querySelectorAll(`input[name="filtro"]`).forEach(element => {
                    if(element.value > 1 && element.value <= 11) {
                        element.removeAttribute('disabled', true);
                    }
                });
                $("input[type='radio'][name='filtro'][value='10']").prop('checked',true);
                var tabla= $('#Ecohort').val();
                if(tabla == 1){
                    $('#example1').DataTable().ajax.reload();
                    table.columns(7).visible(false);
                }else if(tabla == 2){
                    $('#example2').DataTable().ajax.reload();
                    table2.columns(7).visible(false);
                }else if(tabla == 3){
                    $('#example3').DataTable().ajax.reload();
                    table3.columns(7).visible(false);
                }
            }

            var virtual = $("#virtual").is(":checked");

            var presencial = $("#presencial").is(":checked");

            var tabla= $('#Ecohort').val();
            
            switch(tabla){
                case '1':
                    if(!virtual){
                        table.columns([9,10,11]).visible(false);
                        table.columns([19,20,21]).visible(false);
                        table.columns([29,30,31]).visible(false);
                        table.columns([39,40,41]).visible(false);
                        table.columns([49,50,51]).visible(false);
                        table.columns([59,60,61]).visible(false);
                        table.columns([69,70,71]).visible(false);
                        table.columns([79,80,81]).visible(false);
                        table.columns([89,90,91]).visible(false);
                        table.columns([99,100,101]).visible(false);
                        table.columns([109,110,111]).visible(false);
                        table.columns([119,120,121]).visible(false);
                        table.columns([129,130,131]).visible(false);
                        table.columns([139,140,141]).visible(false);
                        table.columns([149,150,151]).visible(false);

                    }else if(virtual){
                        table.columns([9,10,11]).visible(true);
                        table.columns([19,20,21]).visible(true);
                        table.columns([29,30,31]).visible(true);
                        table.columns([39,40,41]).visible(true);
                        table.columns([49,50,51]).visible(true);
                        table.columns([59,60,61]).visible(true);
                        table.columns([69,70,71]).visible(true);
                        table.columns([79,80,81]).visible(true);
                        table.columns([89,90,91]).visible(true);
                        table.columns([99,100,101]).visible(true);
                        table.columns([109,110,111]).visible(true);
                        table.columns([119,120,121]).visible(true);
                        table.columns([129,130,131]).visible(true);
                        table.columns([139,140,141]).visible(true);
                        table.columns([149,150,151]).visible(true);       
                    }
                    if(!presencial){ 
                        table.columns([12,13,14]).visible(false);
                        table.columns([22,23,24]).visible(false);
                        table.columns([32,33,34]).visible(false);
                        table.columns([42,43,44]).visible(false);
                        table.columns([52,53,54]).visible(false);
                        table.columns([62,63,64]).visible(false);
                        table.columns([72,73,74]).visible(false);
                        table.columns([82,83,84]).visible(false);
                        table.columns([92,93,94]).visible(false);
                        table.columns([102,103,104]).visible(false);
                        table.columns([112,113,114]).visible(false);
                        table.columns([122,123,124]).visible(false);
                        table.columns([132,133,134]).visible(false);
                        table.columns([142,143,144]).visible(false);
                        table.columns([152,153,154]).visible(false);
                    }else if(presencial){
                        table.columns([12,13,14]).visible(true);
                        table.columns([22,23,24]).visible(true);
                        table.columns([32,33,34]).visible(true);
                        table.columns([42,43,44]).visible(true);
                        table.columns([52,53,54]).visible(true);
                        table.columns([62,63,64]).visible(true);
                        table.columns([72,73,74]).visible(true);
                        table.columns([82,83,84]).visible(true);
                        table.columns([92,93,94]).visible(true);
                        table.columns([102,103,104]).visible(true);
                        table.columns([112,113,114]).visible(true);
                        table.columns([122,123,124]).visible(true);
                        table.columns([132,133,134]).visible(true);
                        table.columns([142,143,144]).visible(true);
                        table.columns([152,153,154]).visible(true);      
                    }
                    if(presencial && virtual){

                        //VIRTUAL
                        table.columns([9,10,11]).visible(true);
                        table.columns([19,20,21]).visible(true);
                        table.columns([29,30,31]).visible(true);
                        table.columns([39,40,41]).visible(true);
                        table.columns([49,50,51]).visible(true);
                        table.columns([59,60,61]).visible(true);
                        table.columns([69,70,71]).visible(true);
                        table.columns([79,80,81]).visible(true);
                        table.columns([89,90,91]).visible(true);
                        table.columns([99,100,101]).visible(true);
                        table.columns([109,110,111]).visible(true);
                        table.columns([119,120,121]).visible(true);
                        table.columns([129,130,131]).visible(true);
                        table.columns([139,140,141]).visible(true);
                        table.columns([149,150,151]).visible(true);

                        //PRESENCIAL
                        table.columns([12,13,14]).visible(true);
                        table.columns([22,23,24]).visible(true);
                        table.columns([32,33,34]).visible(true);
                        table.columns([42,43,44]).visible(true);
                        table.columns([52,53,54]).visible(true);
                        table.columns([62,63,64]).visible(true);
                        table.columns([72,73,74]).visible(true);
                        table.columns([82,83,84]).visible(true);
                        table.columns([92,93,94]).visible(true);
                        table.columns([102,103,104]).visible(true);
                        table.columns([112,113,114]).visible(true);
                        table.columns([122,123,124]).visible(true);
                        table.columns([132,133,134]).visible(true);
                        table.columns([142,143,144]).visible(true);
                        table.columns([152,153,154]).visible(true);
                    }

                    break;
                case '2':
                    if(!virtual){
                        table2.columns([9,10,11]).visible(false);
                        table2.columns([19,20,21]).visible(false);
                        table2.columns([29,30,31]).visible(false);
                        table2.columns([39,40,41]).visible(false);
                        table2.columns([49,50,51]).visible(false);
                        table2.columns([59,60,61]).visible(false);
                        table2.columns([69,70,71]).visible(false);
                        table2.columns([79,80,81]).visible(false);
                        table2.columns([89,90,91]).visible(false);
                        table2.columns([99,100,101]).visible(false);
                        table2.columns([109,110,111]).visible(false);
                        table2.columns([119,120,121]).visible(false);
                        table2.columns([129,130,131]).visible(false);
                        table2.columns([139,140,141]).visible(false);

                    }else if(virtual){
                        table2.columns([9,10,11]).visible(true);
                        table2.columns([19,20,21]).visible(true);
                        table2.columns([29,30,31]).visible(true);
                        table2.columns([39,40,41]).visible(true);
                        table2.columns([49,50,51]).visible(true);
                        table2.columns([59,60,61]).visible(true);
                        table2.columns([69,70,71]).visible(true);
                        table2.columns([79,80,81]).visible(true);
                        table2.columns([89,90,91]).visible(true);
                        table2.columns([99,100,101]).visible(true);
                        table2.columns([109,110,111]).visible(true);
                        table2.columns([119,120,121]).visible(true);
                        table2.columns([129,130,131]).visible(true);
                        table2.columns([139,140,141]).visible(true);      
                    }
                    if(!presencial){ 
                        table2.columns([12,13,14]).visible(false);
                        table2.columns([22,23,24]).visible(false);
                        table2.columns([32,33,34]).visible(false);
                        table2.columns([42,43,44]).visible(false);
                        table2.columns([52,53,54]).visible(false);
                        table2.columns([62,63,64]).visible(false);
                        table2.columns([72,73,74]).visible(false);
                        table2.columns([82,83,84]).visible(false);
                        table2.columns([92,93,94]).visible(false);
                        table2.columns([102,103,104]).visible(false);
                        table2.columns([112,113,114]).visible(false);
                        table2.columns([122,123,124]).visible(false);
                        table2.columns([132,133,134]).visible(false);
                        table2.columns([142,143,144]).visible(false);
                    }else if(presencial){
                        table2.columns([12,13,14]).visible(true);
                        table2.columns([22,23,24]).visible(true);
                        table2.columns([32,33,34]).visible(true);
                        table2.columns([42,43,44]).visible(true);
                        table2.columns([52,53,54]).visible(true);
                        table2.columns([62,63,64]).visible(true);
                        table2.columns([72,73,74]).visible(true);
                        table2.columns([82,83,84]).visible(true);
                        table2.columns([92,93,94]).visible(true);
                        table2.columns([102,103,104]).visible(true);
                        table2.columns([112,113,114]).visible(true);
                        table2.columns([122,123,124]).visible(true);
                        table2.columns([132,133,134]).visible(true);
                        table2.columns([142,143,144]).visible(true);     
                    }
                    if(presencial && virtual){

                        //VIRTUAL
                        table2.columns([9,10,11]).visible(true);
                        table2.columns([19,20,21]).visible(true);
                        table2.columns([29,30,31]).visible(true);
                        table2.columns([39,40,41]).visible(true);
                        table2.columns([49,50,51]).visible(true);
                        table2.columns([59,60,61]).visible(true);
                        table2.columns([69,70,71]).visible(true);
                        table2.columns([79,80,81]).visible(true);
                        table2.columns([89,90,91]).visible(true);
                        table2.columns([99,100,101]).visible(true);
                        table2.columns([109,110,111]).visible(true);
                        table2.columns([119,120,121]).visible(true);
                        table2.columns([129,130,131]).visible(true);
                        table2.columns([139,140,141]).visible(true); 

                        //PRESENCIAL
                        table2.columns([12,13,14]).visible(true);
                        table2.columns([22,23,24]).visible(true);
                        table2.columns([32,33,34]).visible(true);
                        table2.columns([42,43,44]).visible(true);
                        table2.columns([52,53,54]).visible(true);
                        table2.columns([62,63,64]).visible(true);
                        table2.columns([72,73,74]).visible(true);
                        table2.columns([82,83,84]).visible(true);
                        table2.columns([92,93,94]).visible(true);
                        table2.columns([102,103,104]).visible(true);
                        table2.columns([112,113,114]).visible(true);
                        table2.columns([122,123,124]).visible(true);
                        table2.columns([132,133,134]).visible(true);
                        table2.columns([142,143,144]).visible(true);
                    }

                    break;
                case '3':
                    if(!virtual){
                        table3.columns([9,10,11]).visible(false);
                        table3.columns([19,20,21]).visible(false);
                        table3.columns([29,30,31]).visible(false);
                        table3.columns([39,40,41]).visible(false);
                        table3.columns([49,50,51]).visible(false);
                        table3.columns([59,60,61]).visible(false);
                        table3.columns([69,70,71]).visible(false);
                        table3.columns([79,80,81]).visible(false);
                        table3.columns([89,90,91]).visible(false);
                        table3.columns([99,100,101]).visible(false);
                        table3.columns([109,110,111]).visible(false);
                        table3.columns([119,120,121]).visible(false);

                    }else if(virtual){
                        table3.columns([9,10,11]).visible(true);
                        table3.columns([19,20,21]).visible(true);
                        table3.columns([29,30,31]).visible(true);
                        table3.columns([39,40,41]).visible(true);
                        table3.columns([49,50,51]).visible(true);
                        table3.columns([59,60,61]).visible(true);
                        table3.columns([69,70,71]).visible(true);
                        table3.columns([79,80,81]).visible(true);
                        table3.columns([89,90,91]).visible(true);
                        table3.columns([99,100,101]).visible(true);
                        table3.columns([109,110,111]).visible(true);
                        table3.columns([119,120,121]).visible(true);     
                    }
                    if(!presencial){ 
                        table3.columns([12,13,14]).visible(false);
                        table3.columns([22,23,24]).visible(false);
                        table3.columns([32,33,34]).visible(false);
                        table3.columns([42,43,44]).visible(false);
                        table3.columns([52,53,54]).visible(false);
                        table3.columns([62,63,64]).visible(false);
                        table3.columns([72,73,74]).visible(false);
                        table3.columns([82,83,84]).visible(false);
                        table3.columns([92,93,94]).visible(false);
                        table3.columns([102,103,104]).visible(false);
                        table3.columns([112,113,114]).visible(false);
                        table3.columns([122,123,124]).visible(false);
                    }else if(presencial){
                        table3.columns([12,13,14]).visible(true);
                        table3.columns([22,23,24]).visible(true);
                        table3.columns([32,33,34]).visible(true);
                        table3.columns([42,43,44]).visible(true);
                        table3.columns([52,53,54]).visible(true);
                        table3.columns([62,63,64]).visible(true);
                        table3.columns([72,73,74]).visible(true);
                        table3.columns([82,83,84]).visible(true);
                        table3.columns([92,93,94]).visible(true);
                        table3.columns([102,103,104]).visible(true);
                        table3.columns([112,113,114]).visible(true);
                        table3.columns([122,123,124]).visible(true);   
                    }
                    if(presencial && virtual){

                        //VIRTUAL
                        table3.columns([9,10,11]).visible(true);
                        table3.columns([19,20,21]).visible(true);
                        table3.columns([29,30,31]).visible(true);
                        table3.columns([39,40,41]).visible(true);
                        table3.columns([49,50,51]).visible(true);
                        table3.columns([59,60,61]).visible(true);
                        table3.columns([69,70,71]).visible(true);
                        table3.columns([79,80,81]).visible(true);
                        table3.columns([89,90,91]).visible(true);
                        table3.columns([99,100,101]).visible(true);
                        table3.columns([109,110,111]).visible(true);
                        table3.columns([119,120,121]).visible(true);

                        //PRESENCIAL
                        table3.columns([12,13,14]).visible(true);
                        table3.columns([22,23,24]).visible(true);
                        table3.columns([32,33,34]).visible(true);
                        table3.columns([42,43,44]).visible(true);
                        table3.columns([52,53,54]).visible(true);
                        table3.columns([62,63,64]).visible(true);
                        table3.columns([72,73,74]).visible(true);
                        table3.columns([82,83,84]).visible(true);
                        table3.columns([92,93,94]).visible(true);
                        table3.columns([102,103,104]).visible(true);
                        table3.columns([112,113,114]).visible(true);
                        table3.columns([122,123,124]).visible(true);
                    }

                    break;
                default:
                console.log("ERROR CONTACTE AL ADMINISTRADOR");
            }  
        });
    }else{
        var table = $("#example1").DataTable({
            
            "ajax":{

                "method":"GET",
                "url": "/asistencias_linea_1",
                "data": function(d){
                    var i
                    for (i = 0; i < document.mes.filtro.length; i++){ 
                        if (document.mes.filtro[i].checked) {
                            break; 
                        }
                    }
                    d.mes = document.mes.filtro[i].value;
                },            
            },
            "columns": [
                {data: 'name',className:'table-bordered',},
                {data: 'lastname',className:'table-bordered',},
                {data: 'tipo_documento',className:'table-bordered',},
                {data: 'document_number',className:'table-bordered',},
                {data: 'grupo_name',className:'table-bordered',},
                {data: 'estado',className:'table-bordered',},
                {data: null,className:'table-bordered',"visible": false, render:function(data,type,row,meta){
                        if (typeof data.fecha_aceptacion !== 'undefined') {
                            return data.fecha_aceptacion;
                        }else{
                            return "-";
                        }
                    }
                },
                //JORNADAS
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }  
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                //ARTES
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                //BIOLOGIA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){

                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    
                        //console.log(asistencias);
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                //CULTURA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CULTURA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "CULTURA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "CULTURA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                //DEPORTE
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                //DIALOGO
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                //FILOSOFIA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FILOSOFIA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FILOSOFIA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FILOSOFIA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                //FISICA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FISICA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                //GEOGRAFIA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                //HISTORIA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                //INGLES
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "INGLES" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                //LECTURA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                //MATEMATICAS
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                //QUIMICA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                return parseInt(calificadas)+"%";
                            }
                        }

                        return calificadas;
                    }
                },
                //TECNOLOGIA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                return parseInt(calificadas)+"%";
                            }
                        }

                        return calificadas;
                    }
                },
                //Total Virtuales
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var virtual=0;
                        for(const i in data.cursos_virtuales){
                            virtual = virtual + parseInt(data.cursos_virtuales[i].Total)    
                        }
                        var total = virtual;
                        return '<label>'+total+'</label>';
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;

                        for(const i in data.calificadas_virtuales){

                            calificadas += parseInt(data.calificadas_virtuales[i].calificadas);      
                        }

                        return '<label>'+calificadas+'</label>';         
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                                
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                        }  

                        for(const i in data.calificadas_virtuales){
                            
                            calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                        }

                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                return parseInt(calificadas)+"%";
                            }
                        }

                        return calificadas;
                    }
                },
                //Total Presenciales
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        var presencial=0;
                        for(const i in data.cursos_presenciales){
                            presencial = presencial + parseInt(data.cursos_presenciales[i].Total)    
                        }
                        var total = presencial;
                        return '<label>'+total+'</label>';
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;

                        for(const i in data.calificadas_presenciales){

                            calificadas += parseInt(data.calificadas_presenciales[i].calificadas);      
                        }

                        return '<label>'+calificadas+'</label>';         
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_presenciales){
                                
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                        }  

                        for(const i in data.calificadas_presenciales){
                            
                            calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                        }

                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                return parseInt(calificadas)+"%";
                            }
                        }

                        return calificadas;
                    }
                },
                //TotalES
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        var virtual=0;
                        var presencial=0;
                        for(const i in data.cursos_virtuales){
                            virtual = virtual + parseInt(data.cursos_virtuales[i].Total)    
                        }

                        for(const i in data.cursos_presenciales){
                            presencial = presencial + parseInt(data.cursos_presenciales[i].Total)
                            
                        }
                        var total = virtual+presencial;
                        return '<label>'+total+'</label>';
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;

                        for(const i in data.calificadas_virtuales){

                            calificadas += parseInt(data.calificadas_virtuales[i].calificadas);      
                        }

                        for(const i in data.calificadas_presenciales){
                
                            calificadas += parseInt(data.calificadas_presenciales[i].calificadas);    
                        }
                        return '<label>'+calificadas+'</label>';         
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                                
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                        }
                        for(const i in data.cursos_presenciales){
                            
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                        }    

                        for(const i in data.calificadas_virtuales){
                            
                            calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                        }

                        for(const i in data.calificadas_presenciales){
                           
                            calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                        }

                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                calificadas = 100;
                                return '<label style="background-color: #34E82E;">'+parseInt(calificadas)+'%</label>';
                            }else if(calificadas >= 80){
                                return '<label style="background-color: #34E82E;">'+parseInt(calificadas)+'%</label>';
                            }else{
                                return '<label>'+parseInt(calificadas)+'%</label>';   
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var grupo = " "+data.grupo_name.toUpperCase()+" ";
                        for(const i in data.cursos_virtuales){
                            
                            if(data.cursos_virtuales[i].fullname.split("-",2)[1] != grupo){
                                return "SI";
                            }        
                        }

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split("-",2)[1] != grupo){
                                return "SI";
                            }
                        }

                        return "NO";
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var mstr;
                   
                        mstr = '<div class="row">'+                                  
                                                '<div class="col-xs-4 col-sm-4">'+
                                                    '<a id="'+data.id+'" title="Ver Informacion" onclick="redireccionar(this)" class="btn btn-block btn-sm  fa fa-eye"></a>'+    
                                                '</div>'+                                                
                                            '</div>'; 
                        return mstr;
                    }
                }
            ],    
            "deferRender": true,"responsive": false,"processing": true,'serverSider':true,
            "paging": true, "lengthChange": false, "autoWidth": false,"order": [[0,'asc']],
            "dom":'Bfrtip',
            scrollY:        false,
            scrollX:        true,
            scrollCollapse: true,fixedColumns:{
            leftColumns: 4
            },
            buttons:{
                dom:{
                    button:{
                        className:'btn'
                    }
                },
                buttons:[
                    {
                        extend:"excelHtml5",
                        title:"",
                        filename:"Asistencias Estudiantes Linea 1",
                        text:'Exportar a Excel',
                        className: 'btn-outline-success',
                        messageBottom: false,
                        exportOptions: {
                        
                            columns: ':visible th:not("#ultima1")'
                        },
                        customize: function (xlsx) {
                            var sheet = xlsx.xl.worksheets['sheet1.xml'];
                            var mergeCells = $('mergeCells', sheet);                
 
                            function _createNode( doc, nodeName, opts ) {
                                var tempNode = doc.createElement( nodeName );
 
                                if ( opts ) {
                                    if ( opts.attr ) {
                                     $(tempNode).attr( opts.attr );
                                    }
 
                                    if ( opts.children ) {
                                        $.each( opts.children, function ( key, value ) {
                                            tempNode.appendChild( value );
                                        } );
                                    }
 
                                    if ( opts.text !== null && opts.text !== undefined ) {
                                        tempNode.appendChild( doc.createTextNode( opts.text ) );
                                    }
                                }
                                return tempNode;
                            }

                            var numrows = 2;
                            var clR = $('row', sheet);
 
                            //update Row
                            clR.each(function () {
                                var attr = $(this).attr('r');
                                var ind = parseInt(attr);
                                ind = ind + numrows;
                                $(this).attr("r", ind);
                            });
 
                            // Create row before data
                            $('row c ', sheet).each(function () {
                                var attr = $(this).attr('r');
                                var pre = attr.substring(0, 1);
                                var ind = parseInt(attr.substring(1, attr.length));
                                ind = ind + numrows;
                                $(this).attr("r", pre + ind);
                            });
 
                            function Addrow(index, data) {
                            var msg = '<row r="' + index + '">'
                                for (var i = 0; i < data.length; i++) {
                                    var key = data[i].key;
                                    var value = data[i].value;
                                    msg += '<c t="inlineStr" r="' + key + index + '">';
                                    msg += '<is>';
                                    msg += '<t>' + value + '</t>';
                                    msg += '</is>';
                                    msg += '</c>';
                                }
                                msg += '</row>';
                                return msg;
                            }
 
                            var fecha_json = new Date();
                            var titulo = "REPORTE ASISTENCIAS LINEA 1 "+"\n"+"Fecha de generación: "+fecha_json.toLocaleString();
                            var fecha_aceptacion = $("#aceptacion").is(":checked");

                            if(!fecha_aceptacion){
                                var r1 = Addrow(1, [{ key: 'A', value: titulo  }]);
                                var r2 = Addrow(2, [{ key: 'A', value: "Nombres" }])
                                var r3 = Addrow(2, [{ key: 'B', value: "Apellidos" }])
                                var r4 = Addrow(2, [{ key: 'C', value: "Tipo Documento" }])
                                var r5 = Addrow(2, [{ key: 'D', value: "N° Documento" }])
                                var r6 = Addrow(2, [{ key: 'E', value: "Grupo" }])
                                var r7 = Addrow(2, [{ key: 'F', value: "Estado" }])
                                var r9 = Addrow(2, [{ key: 'G', value: "ACCION CIUDADANA" }])
                                var r10 = Addrow(2, [{ key: 'Q', value: "ARTES" }])
                                var r11 = Addrow(2, [{ key: 'AA', value: "BIOLOGIA" }])
                                var r12 = Addrow(2, [{ key: 'AK', value: "CULTURA DEMOCRATICA" }])
                                var r13 = Addrow(2, [{ key: 'AU', value: "DEPORTE" }])
                                var r14 = Addrow(2, [{ key: 'BE', value: "DIALOGO" }])
                                var r15 = Addrow(2, [{ key: 'BO', value: "FILOSOFIA" }])
                                var r16 = Addrow(2, [{ key: 'BY', value: "FISICA" }])
                                var r17 = Addrow(2, [{ key: 'CI', value: "GEOGRAFIA" }])
                                var r18 = Addrow(2, [{ key: 'CS', value: "HISTORIA" }])
                                var r19 = Addrow(2, [{ key: 'DC', value: "INGLES" }])
                                var r20 = Addrow(2, [{ key: 'DM', value: "LECTURA CRITICA" }])
                                var r21 = Addrow(2, [{ key: 'DW', value: "MATEMATICAS" }])
                                var r22 = Addrow(2, [{ key: 'EH', value: "QUIMICA" }])
                                var r23 = Addrow(2, [{ key: 'EQ', value: "TIC" }])
                                var r24 = Addrow(2, [{ key: 'FA', value: "Total" }])
                                var r25 = Addrow(2, [{ key: 'FJ', value: "Cambio Grupo" }])
                                sheet.childNodes[0].childNodes[1].innerHTML = r1 +r2+ r3+r4 +r5+ r6+r7+ r9 +r10 +r11+ r12+r13 +r14+ r15+r16+r17 +r18+ r19 + r20+r21+r22+r23+r24+r25+sheet.childNodes[0].childNodes[1].innerHTML;

                                $('row c[r="A1"]', sheet).attr( 's', '51' );
                                $('row c[r="A2"]', sheet).attr( 's', '2' );
                                $('row c[r="B2"]', sheet).attr( 's', '2' );
                                $('row c[r="C2"]', sheet).attr( 's', '2' );
                                $('row c[r="D2"]', sheet).attr( 's', '2' );
                                $('row c[r="E2"]', sheet).attr( 's', '2' );
                                $('row c[r="F2"]', sheet).attr( 's', '2' );
                                $('row c[r="G2"]', sheet).attr( 's', '2' );
                                $('row c[r="Q2"]', sheet).attr( 's', '2' );
                                $('row c[r="AA2"]', sheet).attr( 's', '2' );
                                $('row c[r="AK2"]', sheet).attr( 's', '2' );
                                $('row c[r="AU2"]', sheet).attr( 's', '2' );
                                $('row c[r="BE2"]', sheet).attr( 's', '2' );
                                $('row c[r="BO2"]', sheet).attr( 's', '2' );
                                $('row c[r="BY2"]', sheet).attr( 's', '2' );
                                $('row c[r="CI2"]', sheet).attr( 's', '2' );
                                $('row c[r="CS2"]', sheet).attr( 's', '2' );
                                $('row c[r="DC2"]', sheet).attr( 's', '2' );
                                $('row c[r="DM2"]', sheet).attr( 's', '2' );
                                $('row c[r="DW2"]', sheet).attr( 's', '2' );
                                $('row c[r="EH2"]', sheet).attr( 's', '2' );
                                $('row c[r="EQ2"]', sheet).attr( 's', '2' );
                                $('row c[r="FA2"]', sheet).attr( 's', '2' );
                                $('row c[r="FJ2"]', sheet).attr( 's', '2' );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'A1:FJ1',
                                    }
                                } ) );
                    
                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'A2:A3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'B2:B3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'C2:C3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'D2:D3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'E2:E3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'F2:F3',
                                    }
                                } ) );


                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'G2:P2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'Q2:Z2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AA2:AJ2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AK2:AT2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AU2:BD2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BE2:BN2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BO2:BX2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BY2:CH2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'CI2:CR2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'CS2:DB2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DC2:DL2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DM2:DV2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DW2:EF2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'EG2:EP2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'EQ2:EZ2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'FA2:FI2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'FJ2:FJ3',
                                    }
                                } ) );
                            }else{
                                var r1 = Addrow(1, [{ key: 'A', value: titulo  }]);
                                var r2 = Addrow(2, [{ key: 'A', value: "Nombres" }])
                                var r3 = Addrow(2, [{ key: 'B', value: "Apellidos" }])
                                var r4 = Addrow(2, [{ key: 'C', value: "Tipo Documento" }])
                                var r5 = Addrow(2, [{ key: 'D', value: "N° Documento" }])
                                var r6 = Addrow(2, [{ key: 'E', value: "Grupo" }])
                                var r7 = Addrow(2, [{ key: 'F', value: "Estado" }])
                                var r8 = Addrow(2, [{ key: 'G', value: "Fecha Aceptacion" }])
                                var r9 = Addrow(2, [{ key: 'H', value: "ACCION CIUDADANA" }])
                                var r10 = Addrow(2, [{ key: 'R', value: "ARTES" }])
                                var r11 = Addrow(2, [{ key: 'AB', value: "BIOLOGIA" }])
                                var r12 = Addrow(2, [{ key: 'AL', value: "CULTURA DEMOCRATICA" }])
                                var r13 = Addrow(2, [{ key: 'AV', value: "DEPORTE" }])
                                var r14 = Addrow(2, [{ key: 'BF', value: "DIALOGO" }])
                                var r15 = Addrow(2, [{ key: 'BP', value: "FILOSOFIA" }])
                                var r16 = Addrow(2, [{ key: 'BZ', value: "FISICA" }])
                                var r17 = Addrow(2, [{ key: 'CJ', value: "GEOGRAFIA" }])
                                var r18 = Addrow(2, [{ key: 'CT', value: "HISTORIA" }])
                                var r19 = Addrow(2, [{ key: 'DD', value: "INGLES" }])
                                var r20 = Addrow(2, [{ key: 'DN', value: "LECTURA CRITICA" }])
                                var r21 = Addrow(2, [{ key: 'DX', value: "MATEMATICAS" }])
                                var r22 = Addrow(2, [{ key: 'EI', value: "QUIMICA" }])
                                var r23 = Addrow(2, [{ key: 'ER', value: "TIC" }])
                                var r24 = Addrow(2, [{ key: 'FB', value: "Total" }])
                                var r25 = Addrow(2, [{ key: 'FK', value: "Cambio Grupo" }])
                                sheet.childNodes[0].childNodes[1].innerHTML = r1 +r2+ r3+r4 +r5+ r6+r7+r8+ r9 +r10 +r11+ r12+r13 +r14+ r15+r16+r17 +r18+ r19 + r20+r21+r22+r23+r24+r25+sheet.childNodes[0].childNodes[1].innerHTML;

                                $('row c[r="A1"]', sheet).attr( 's', '51' );
                                $('row c[r="A2"]', sheet).attr( 's', '2' );
                                $('row c[r="B2"]', sheet).attr( 's', '2' );
                                $('row c[r="C2"]', sheet).attr( 's', '2' );
                                $('row c[r="D2"]', sheet).attr( 's', '2' );
                                $('row c[r="E2"]', sheet).attr( 's', '2' );
                                $('row c[r="F2"]', sheet).attr( 's', '2' );
                                $('row c[r="G2"]', sheet).attr( 's', '2' );
                                $('row c[r="H2"]', sheet).attr( 's', '2' );
                                $('row c[r="R2"]', sheet).attr( 's', '2' );
                                $('row c[r="AB2"]', sheet).attr( 's', '2' );
                                $('row c[r="AL2"]', sheet).attr( 's', '2' );
                                $('row c[r="AV2"]', sheet).attr( 's', '2' );
                                $('row c[r="BF2"]', sheet).attr( 's', '2' );
                                $('row c[r="BP2"]', sheet).attr( 's', '2' );
                                $('row c[r="BZ2"]', sheet).attr( 's', '2' );
                                $('row c[r="CJ2"]', sheet).attr( 's', '2' );
                                $('row c[r="CT2"]', sheet).attr( 's', '2' );
                                $('row c[r="DD2"]', sheet).attr( 's', '2' );
                                $('row c[r="DN2"]', sheet).attr( 's', '2' );
                                $('row c[r="DX2"]', sheet).attr( 's', '2' );
                                $('row c[r="EI2"]', sheet).attr( 's', '2' );
                                $('row c[r="ER2"]', sheet).attr( 's', '2' );
                                $('row c[r="FB2"]', sheet).attr( 's', '2' );
                                $('row c[r="FK2"]', sheet).attr( 's', '2' );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'A1:FK1',
                                    }
                                } ) );
                    
                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'A2:A3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'B2:B3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'C2:C3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'D2:D3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'E2:E3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'F2:F3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'G2:G3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'H2:H2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'R2:AA2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AB2:AK2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AL2:AU2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AV2:BE2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BF2:BO2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BP2:BY2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BZ2:CI2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'CJ2:CS2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'CT2:DC2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DD2:DM2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DN2:DW2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DX2:EG2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'EH2:EQ2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'ER2:FA2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'FB2:FJ2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'FK2:FK3',
                                    }
                                } ) );
                            }
                            mergeCells.attr( 'count', mergeCells.attr( 'count' )+1 );
                        },
                    }
                ]
            }
        });

        var table2 = $("#example2").DataTable({
            
            "ajax":{

                "method":"GET",
                "url": "/asistencias_linea_2",
                "data": function(d){
                    var i
                    for (i = 0; i < document.mes.filtro.length; i++){ 
                        if (document.mes.filtro[i].checked) {
                            break; 
                        }
                    }
                    d.mes = document.mes.filtro[i].value;
                },           
            },
            "columns": [
                {data: 'name',className:'table-bordered'},
                {data: 'lastname',className:'table-bordered'},
                {data: 'tipo_documento',className:'table-bordered'},
                {data: 'document_number',className:'table-bordered'},
                {data: 'grupo_name',className:'table-bordered'},
                {data: 'estado',className:'table-bordered'},
                {data: null,className:'table-bordered',"visible": false, render:function(data,type,row,meta){
                        if (typeof data.fecha_aceptacion !== 'undefined') {
                            return data.fecha_aceptacion;
                        }else{
                            return "-";
                        }
                    }
                },
                //JORNADAS
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "JORNADAS"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //ARTES:
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "ARTES:"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //BIOLOGIA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //DEPORTE
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DEPORTE"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //DIALOGO
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //CONSTITUCION
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //FISICA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FISICA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //GEOGRAFIA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //HISTORIA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //INGLES
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "INGLES" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //LECTURA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //MATEMATICAS
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //QUIMICA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //TECNOLOGIA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                return parseInt(calificadas)+"%";
                            }
                        }

                        return calificadas;
                    }
                },
                //Total Virtuales
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var virtual=0;
                        for(const i in data.cursos_virtuales){
                            virtual = virtual + parseInt(data.cursos_virtuales[i].Total)    
                        }
                        var total = virtual;
                        return '<label>'+total+'</label>';
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;

                        for(const i in data.calificadas_virtuales){

                            calificadas += parseInt(data.calificadas_virtuales[i].calificadas);      
                        }

                        return '<label>'+calificadas+'</label>';         
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                                
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                        }  

                        for(const i in data.calificadas_virtuales){
                            
                            calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                        }

                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                return parseInt(calificadas)+"%";
                            }
                        }

                        return calificadas;
                    }
                },
                //Total Presenciales
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        var presencial=0;
                        for(const i in data.cursos_presenciales){
                            presencial = presencial + parseInt(data.cursos_presenciales[i].Total)    
                        }
                        var total = presencial;
                        return '<label>'+total+'</label>';
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;

                        for(const i in data.calificadas_presenciales){

                            calificadas += parseInt(data.calificadas_presenciales[i].calificadas);      
                        }

                        return '<label>'+calificadas+'</label>';         
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_presenciales){
                                
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                        }  

                        for(const i in data.calificadas_presenciales){
                            
                            calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                        }

                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                return parseInt(calificadas)+"%";
                            }
                        }

                        return calificadas;
                    }
                },
                //TotalES
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        var virtual=0;
                        var presencial=0;
                        for(const i in data.cursos_virtuales){
                            virtual = virtual + parseInt(data.cursos_virtuales[i].Total)    
                        }

                        for(const i in data.cursos_presenciales){
                            presencial = presencial + parseInt(data.cursos_presenciales[i].Total)
                            
                        }
                        var total = virtual+presencial;
                        return '<label>'+total+'</label>';
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;

                        for(const i in data.calificadas_virtuales){

                            calificadas += parseInt(data.calificadas_virtuales[i].calificadas);      
                        }

                        for(const i in data.calificadas_presenciales){
                
                            calificadas += parseInt(data.calificadas_presenciales[i].calificadas);    
                        }
                        return '<label>'+calificadas+'</label>';         
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                                
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                        }
                        for(const i in data.cursos_presenciales){
                            
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                        }    

                        for(const i in data.calificadas_virtuales){
                            
                            calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                        }

                        for(const i in data.calificadas_presenciales){
                           
                            calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                        }

                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                calificadas = 100;
                                return '<label style="background-color: #34E82E;">'+parseInt(calificadas)+'%</label>';
                            }else if(calificadas >= 80){
                                return '<label style="background-color: #34E82E;">'+parseInt(calificadas)+'%</label>';
                            }else{
                                return '<label>'+parseInt(calificadas)+'%</label>';   
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var grupo = " "+data.grupo_name.toUpperCase()+" ";
                        for(const i in data.cursos_virtuales){
                            
                            if(data.cursos_virtuales[i].fullname.split("-",2)[1] != grupo){
                                return "SI";
                            }        
                        }

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split("-",2)[1] != grupo){
                                return "SI";
                            }
                        }

                        return "NO";
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                    
                        var mstr;
                   
                        mstr = '<div class="row">'+                                  
                                    '<div class="col-xs-4 col-sm-4">'+
                                        '<a id="'+data.id+'" target="_blank" title="Ver Informacion" onclick="redireccionar(this)" class="btn btn-block btn-sm  fa fa-eye"></a>'+    
                                    '</div>'+                                                
                                '</div>'; 
                        return mstr;
                    }
                }
            ],

            "deferRender": true,"responsive": false,"processing": true,'serverSider':true,
            "paging": true, "lengthChange": false, "autoWidth": false,"order": [[0,'asc']],
            "dom":'Bfrtip',
            scrollY:        false,
            scrollX:        true,
            scrollCollapse: true,fixedColumns:{
            leftColumns: 4
            },
            buttons:{
                dom:{
                    button:{
                        className:'btn'
                    }
                },
                buttons:[
                    {
                        extend:"excelHtml5",
                        title:"",
                        filename:"Asistencias Estudiantes Linea 2",
                        text:'Exportar a Excel',
                        className: 'btn-outline-success',
                        messageBottom: false,
                        exportOptions: {
                        
                            columns: ':visible th:not("#ultima2")'
                        },
                        customize: function (xlsx) {
                            var sheet = xlsx.xl.worksheets['sheet1.xml'];
                            var mergeCells = $('mergeCells', sheet);
 
                            function _createNode( doc, nodeName, opts ) {
                                var tempNode = doc.createElement( nodeName );
 
                                if ( opts ) {
                                    if ( opts.attr ) {
                                     $(tempNode).attr( opts.attr );
                                    }
 
                                    if ( opts.children ) {
                                        $.each( opts.children, function ( key, value ) {
                                            tempNode.appendChild( value );
                                        } );
                                    }
 
                                    if ( opts.text !== null && opts.text !== undefined ) {
                                        tempNode.appendChild( doc.createTextNode( opts.text ) );
                                    }
                                }
                                return tempNode;
                            }

                            var numrows = 2;
                            var clR = $('row', sheet);
 
                            //update Row
                            clR.each(function () {
                                var attr = $(this).attr('r');
                                var ind = parseInt(attr);
                                ind = ind + numrows;
                                $(this).attr("r", ind);
                            });
 
                            // Create row before data
                            $('row c ', sheet).each(function () {
                                var attr = $(this).attr('r');
                                var pre = attr.substring(0, 1);
                                var ind = parseInt(attr.substring(1, attr.length));
                                ind = ind + numrows;
                                $(this).attr("r", pre + ind);
                            });
 
                            function Addrow(index, data) {
                            var msg = '<row r="' + index + '">'
                                for (var i = 0; i < data.length; i++) {
                                    var key = data[i].key;
                                    var value = data[i].value;
                                    msg += '<c t="inlineStr" r="' + key + index + '">';
                                    msg += '<is>';
                                    msg += '<t>' + value + '</t>';
                                    msg += '</is>';
                                    msg += '</c>';
                                }
                                msg += '</row>';
                                return msg;
                            }
 
                            var fecha_json = new Date();
                            var titulo = "REPORTE ASISTENCIAS LINEA 2 "+"\n"+"Fecha de generación: "+fecha_json.toLocaleString();

                            var fecha_aceptacion = $("#aceptacion").is(":checked");

                            if(!fecha_aceptacion){
                                var r1 = Addrow(1, [{ key: 'A', value: titulo  }]);
                                var r2 = Addrow(2, [{ key: 'A', value: "Nombres" }])
                                var r3 = Addrow(2, [{ key: 'B', value: "Apellidos" }])
                                var r4 = Addrow(2, [{ key: 'C', value: "Tipo Documento" }])
                                var r5 = Addrow(2, [{ key: 'D', value: "N° Documento" }])
                                var r6 = Addrow(2, [{ key: 'E', value: "Grupo" }])
                                var r7 = Addrow(2, [{ key: 'F', value: "Estado" }])
                                var r9 = Addrow(2, [{ key: 'G', value: "ACCION CIUDADANA" }])
                                var r10 = Addrow(2, [{ key: 'Q', value: "ARTES" }])
                                var r11 = Addrow(2, [{ key: 'AA', value: "BIOLOGIA" }])
                                var r13 = Addrow(2, [{ key: 'AK', value: "DEPORTE" }])
                                var r14 = Addrow(2, [{ key: 'AU', value: "DIALOGO" }])
                                var r15 = Addrow(2, [{ key: 'BE', value: "FILOSOFIA" }])
                                var r16 = Addrow(2, [{ key: 'BO', value: "FISICA" }])
                                var r17 = Addrow(2, [{ key: 'BY', value: "GEOGRAFIA" }])
                                var r18 = Addrow(2, [{ key: 'CI', value: "HISTORIA" }])
                                var r19 = Addrow(2, [{ key: 'CS', value: "INGLES" }])
                                var r20 = Addrow(2, [{ key: 'DC', value: "LECTURA CRITICA" }])
                                var r21 = Addrow(2, [{ key: 'DM', value: "MATEMATICAS" }])
                                var r22 = Addrow(2, [{ key: 'DW', value: "QUIMICA" }])
                                var r23 = Addrow(2, [{ key: 'EG', value: "TIC" }])
                                var r24 = Addrow(2, [{ key: 'EQ', value: "Total" }])
                                var r25 = Addrow(2, [{ key: 'EZ', value: "Cambio Grupo" }])
                                sheet.childNodes[0].childNodes[1].innerHTML = r1+r2+r3+r4+r5+r6+r7+r9+r10+r11+r13+r14+r15+r16+r17+r18+r19+r20+r21+r22+r23+r24+r25+sheet.childNodes[0].childNodes[1].innerHTML;

                                $('row c[r="A1"]', sheet).attr( 's', '51' );
                                $('row c[r="A2"]', sheet).attr( 's', '2' );
                                $('row c[r="B2"]', sheet).attr( 's', '2' );
                                $('row c[r="C2"]', sheet).attr( 's', '2' );
                                $('row c[r="D2"]', sheet).attr( 's', '2' );
                                $('row c[r="E2"]', sheet).attr( 's', '2' );
                                $('row c[r="F2"]', sheet).attr( 's', '2' );
                                $('row c[r="G2"]', sheet).attr( 's', '2' );
                                $('row c[r="Q2"]', sheet).attr( 's', '2' );
                                $('row c[r="AA2"]', sheet).attr( 's', '2' );
                                $('row c[r="AK2"]', sheet).attr( 's', '2' );
                                $('row c[r="AU2"]', sheet).attr( 's', '2' );
                                $('row c[r="BE2"]', sheet).attr( 's', '2' );
                                $('row c[r="BO2"]', sheet).attr( 's', '2' );
                                $('row c[r="BY2"]', sheet).attr( 's', '2' );
                                $('row c[r="CI2"]', sheet).attr( 's', '2' );
                                $('row c[r="CS2"]', sheet).attr( 's', '2' );
                                $('row c[r="DC2"]', sheet).attr( 's', '2' );
                                $('row c[r="DM2"]', sheet).attr( 's', '2' );
                                $('row c[r="DW2"]', sheet).attr( 's', '2' );
                                $('row c[r="EG2"]', sheet).attr( 's', '2' );
                                $('row c[r="EQ2"]', sheet).attr( 's', '2' );
                                $('row c[r="EZ2"]', sheet).attr( 's', '2' );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'A1:EZ1',
                                    }
                                } ) );
                    
                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'A2:A3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'B2:B3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'C2:C3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'D2:D3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'E2:E3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'F2:F3',
                                    }
                                } ) );


                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'G2:P2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'Q2:Z2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AA2:AJ2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AK2:AT2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AU2:BD2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BE2:BN2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BO2:BX2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BY2:CH2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'CI2:CR2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'CS2:DB2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DC2:DL2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DM2:DV2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DW2:EF2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'EG2:EP2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'EQ2:EY2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'EZ2:EZ3',
                                    }
                                } ) );
                            }else{
                                var r1 = Addrow(1, [{ key: 'A', value: titulo  }]);
                                var r2 = Addrow(2, [{ key: 'A', value: "Nombres" }])
                                var r3 = Addrow(2, [{ key: 'B', value: "Apellidos" }])
                                var r4 = Addrow(2, [{ key: 'C', value: "Tipo Documento" }])
                                var r5 = Addrow(2, [{ key: 'D', value: "N° Documento" }])
                                var r6 = Addrow(2, [{ key: 'E', value: "Grupo" }])
                                var r7 = Addrow(2, [{ key: 'F', value: "Estado" }])
                                var r8 = Addrow(2, [{ key: 'G', value: "Fecha Aceptacion" }])
                                var r9 = Addrow(2, [{ key: 'H', value: "ACCION CIUDADANA" }])
                                var r10 = Addrow(2, [{ key: 'R', value: "ARTES" }])
                                var r11 = Addrow(2, [{ key: 'AB', value: "BIOLOGIA" }])
                                var r13 = Addrow(2, [{ key: 'AL', value: "DEPORTE" }])
                                var r14 = Addrow(2, [{ key: 'AV', value: "DIALOGO" }])
                                var r15 = Addrow(2, [{ key: 'BF', value: "FILOSOFIA" }])
                                var r16 = Addrow(2, [{ key: 'BP', value: "FISICA" }])
                                var r17 = Addrow(2, [{ key: 'BZ', value: "GEOGRAFIA" }])
                                var r18 = Addrow(2, [{ key: 'CJ', value: "HISTORIA" }])
                                var r19 = Addrow(2, [{ key: 'CT', value: "INGLES" }])
                                var r20 = Addrow(2, [{ key: 'DD', value: "LECTURA CRITICA" }])
                                var r21 = Addrow(2, [{ key: 'DN', value: "MATEMATICAS" }])
                                var r22 = Addrow(2, [{ key: 'DX', value: "QUIMICA" }])
                                var r23 = Addrow(2, [{ key: 'EH', value: "TIC" }])
                                var r24 = Addrow(2, [{ key: 'ER', value: "Total" }])
                                var r25 = Addrow(2, [{ key: 'FA', value: "Cambio Grupo" }])
                                sheet.childNodes[0].childNodes[1].innerHTML = r1+r2+r3+r4+r5+r6+r7+r8+r9+r10+r11+r13+r14+r15+r16+r17+r18+r19+r20+r21+r22+r23+r24+r25+sheet.childNodes[0].childNodes[1].innerHTML;

                                $('row c[r="A1"]', sheet).attr( 's', '51' );
                                $('row c[r="A2"]', sheet).attr( 's', '2' );
                                $('row c[r="B2"]', sheet).attr( 's', '2' );
                                $('row c[r="C2"]', sheet).attr( 's', '2' );
                                $('row c[r="D2"]', sheet).attr( 's', '2' );
                                $('row c[r="E2"]', sheet).attr( 's', '2' );
                                $('row c[r="F2"]', sheet).attr( 's', '2' );
                                $('row c[r="G2"]', sheet).attr( 's', '2' );
                                $('row c[r="H2"]', sheet).attr( 's', '2' );
                                $('row c[r="R2"]', sheet).attr( 's', '2' );
                                $('row c[r="AB2"]', sheet).attr( 's', '2' );
                                $('row c[r="AL2"]', sheet).attr( 's', '2' );
                                $('row c[r="AV2"]', sheet).attr( 's', '2' );
                                $('row c[r="BF2"]', sheet).attr( 's', '2' );
                                $('row c[r="BP2"]', sheet).attr( 's', '2' );
                                $('row c[r="BZ2"]', sheet).attr( 's', '2' );
                                $('row c[r="CJ2"]', sheet).attr( 's', '2' );
                                $('row c[r="CT2"]', sheet).attr( 's', '2' );
                                $('row c[r="DD2"]', sheet).attr( 's', '2' );
                                $('row c[r="DN2"]', sheet).attr( 's', '2' );
                                $('row c[r="DX2"]', sheet).attr( 's', '2' );
                                $('row c[r="EH2"]', sheet).attr( 's', '2' );
                                $('row c[r="ER2"]', sheet).attr( 's', '2' );
                                $('row c[r="FA2"]', sheet).attr( 's', '2' );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'A1:FA1',
                                    }
                                } ) );
                    
                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'A2:A3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'B2:B3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'C2:C3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'D2:D3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'E2:E3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'F2:F3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'G2:G3',
                                    }
                                } ) );


                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'H2:Q2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'R2:AA2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AB2:AK2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AL2:AU2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AV2:BE2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BF2:BO2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BP2:BY2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BZ2:CI2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'CJ2:CS2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'CT2:DC2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DD2:DM2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DN2:DW2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DX2:EG2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'EH2:EQ2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'ER2:EZ2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'FA2:FA3',
                                    }
                                } ) );
                            }    
                            mergeCells.attr( 'count', mergeCells.attr( 'count' )+1 );
                        },
                    }
                ]
            }
        });

        var table3 = $("#example3").DataTable({
            
            "ajax":{

                "method":"GET",
                "url": "/asistencias_linea_3",
                "data": function(d){
                    var i
                    for (i = 0; i < document.mes.filtro.length; i++){ 
                        if (document.mes.filtro[i].checked) {
                            break; 
                        }
                    }
                    d.mes = document.mes.filtro[i].value;
                },             
            },
            "columns": [
                {data: 'name',className:'table-bordered',},
                {data: 'lastname',className:'table-bordered',},
                {data: 'tipo_documento',className:'table-bordered',},
                {data: 'document_number',className:'table-bordered',},
                {data: 'grupo_name',className:'table-bordered',},
                {data: 'estado',className:'table-bordered',},
                {data: null,className:'table-bordered',"visible": false, render:function(data,type,row,meta){
                        if (typeof data.fecha_aceptacion !== 'undefined') {
                            return data.fecha_aceptacion;
                        }else{
                            return "-";
                        }
                    }
                },
                //BIOLOGIA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "BIOLOGIA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //DIALOGO
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "DIALOGO"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //CONSTITUCION
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "CONSTITUCION"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //FISICA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FISICA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "FISICA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //GEOGRAFIA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "GEOGRAFIA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //HISTORIA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "HISTORIA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //INGLES
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "INGLES" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "INGLES"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //LECTURA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "LECTURA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //MATEMATICAS
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "MATEMATICAS"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //PRACTICAS
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "PRACTICAS" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "PRACTICAS" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "PRACTICAS"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //QUIMICA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "QUIMICA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //TECNOLOGIA
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var docente = "-";
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                if(data.calificadas_virtuales[i].docente_name == null){
                                    return docente;
                                }else{
                                    return docente = data.calificadas_virtuales[i].docente_name;
                                }
                            }
                        }      
                        return docente;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null){
                            return 0;
                        }else{
                            var contador = 0;
                            for(const i in data.cursos_virtuales){
                                if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                    //console.log(data.cursos_virtuales[i].Total);
                                    contador += parseInt(data.cursos_virtuales[i].Total);
                                }      
                            }
                            return contador; 
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                return calificadas = data.calificadas_virtuales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA" && data.calificadas_virtuales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_virtuales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }
                        
                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_presenciales == null){
                            return 0;
                        }else{
                        var contador = 0;
                        for(const i in data.cursos_presenciales){
                            if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                //console.log(data.cursos_presenciales[i].Total);
                                contador += parseInt(data.cursos_presenciales[i].Total);
                            }      
                        }
                        return contador;
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                return calificadas = data.calificadas_presenciales[i].calificadas;
                            }
                        }                           
                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = "-";
                        var asistencias = 0;

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA" && data.calificadas_presenciales[i].calificadas > 0){
                                calificadas = (asistencias*100)/parseInt(data.calificadas_presenciales[i].calificadas);
                                if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        if(data.cursos_virtuales == null && data.cursos_presenciales == null){
                            var contador = 0;
                            return '<a class="btn">'+contador+'</a>';
                        }else{
                            var contador = 0;
                            var id = 0;
                            if(data.cursos_virtuales != null){
                                for(const i in data.cursos_virtuales){
                                    if( data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                        //console.log(data.cursos_virtuales[i].Total);
                                        id = parseInt(data.cursos_virtuales[i].id);
                                        contador += parseInt(data.cursos_virtuales[i].Total);
                                    }      
                                }
                            }

                            if(data.cursos_presenciales != null){
                                for(const i in data.cursos_presenciales){
                                    if( data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                        //console.log(data.cursos_presenciales[i].Total);
                                        if(id <= 0){
                                            id = parseInt(data.cursos_presenciales[i].id);
                                        }
                                        
                                        contador += parseInt(data.cursos_presenciales[i].Total);
                                    }      
                                }
                            }
                            if(contador > 0){
                                return '<button class="btn" type="button" onclick="abrir_modal('+id+','+data.id+');"><u>'+contador+'</u></button>';
                            }
                            return '<a class="btn"><u>'+contador+'</u></a>';
                        }
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;
                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                calificadas += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                calificadas += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                            if(data.cursos_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                            }
                        }
                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                            }
                        }    

                        for(const i in data.calificadas_virtuales){
                            if(data.calificadas_virtuales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                            }
                        }

                        for(const i in data.calificadas_presenciales){
                            if(data.calificadas_presenciales[i].fullname.split(" ", 2)[0] == "TECNOLOGIA"){
                                calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                            }
                        }
                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                    return "100%";
                                }else{
                                    return parseInt(calificadas)+"%";
                                }
                        }

                        return calificadas;
                    }
                },
                //Total Virtuales
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var virtual=0;
                        for(const i in data.cursos_virtuales){
                            virtual = virtual + parseInt(data.cursos_virtuales[i].Total)    
                        }
                        var total = virtual;
                        return '<label>'+total+'</label>';
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;

                        for(const i in data.calificadas_virtuales){

                            calificadas += parseInt(data.calificadas_virtuales[i].calificadas);      
                        }

                        return '<label>'+calificadas+'</label>';         
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                                
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                        }  

                        for(const i in data.calificadas_virtuales){
                            
                            calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                        }

                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                return parseInt(calificadas)+"%";
                            }
                        }

                        return calificadas;
                    }
                },
                //Total Presenciales
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        var presencial=0;
                        for(const i in data.cursos_presenciales){
                            presencial = presencial + parseInt(data.cursos_presenciales[i].Total)    
                        }
                        var total = presencial;
                        return '<label>'+total+'</label>';
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;

                        for(const i in data.calificadas_presenciales){

                            calificadas += parseInt(data.calificadas_presenciales[i].calificadas);      
                        }

                        return '<label>'+calificadas+'</label>';         
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_presenciales){
                                
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                        }  

                        for(const i in data.calificadas_presenciales){
                            
                            calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                        }

                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                return "100%";
                            }else{
                                return parseInt(calificadas)+"%";
                            }
                        }

                        return calificadas;
                    }
                },
                //TotalES
                {data: null,className:'border-table-asistencias-porcentaje', render:function(data, type, row, meta){
                        var virtual=0;
                        var presencial=0;
                        for(const i in data.cursos_virtuales){
                            virtual = virtual + parseInt(data.cursos_virtuales[i].Total)    
                        }

                        for(const i in data.cursos_presenciales){
                            presencial = presencial + parseInt(data.cursos_presenciales[i].Total)
                            
                        }
                        var total = virtual+presencial;
                        return '<label>'+total+'</label>';
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas = 0;

                        for(const i in data.calificadas_virtuales){

                            calificadas += parseInt(data.calificadas_virtuales[i].calificadas);      
                        }

                        for(const i in data.calificadas_presenciales){
                
                            calificadas += parseInt(data.calificadas_presenciales[i].calificadas);    
                        }
                        return '<label>'+calificadas+'</label>';         
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                        var calificadas_suma = 0;
                        var asistencias = 0;
                        var calificadas = "-";
                        for(const i in data.cursos_virtuales){
                                
                                asistencias += parseInt(data.cursos_virtuales[i].Total);
                        }
                        for(const i in data.cursos_presenciales){
                            
                                asistencias += parseInt(data.cursos_presenciales[i].Total);
                        }    

                        for(const i in data.calificadas_virtuales){
                            
                            calificadas_suma += parseInt(data.calificadas_virtuales[i].calificadas);
                        }

                        for(const i in data.calificadas_presenciales){
                           
                            calificadas_suma += parseInt(data.calificadas_presenciales[i].calificadas);
                        }

                        if(calificadas_suma > 0){
                            calificadas = (asistencias*100)/calificadas_suma;
                            if(calificadas > 100){
                                calificadas = 100;
                                return '<label style="background-color: #34E82E;">'+parseInt(calificadas)+'%</label>';
                            }else if(calificadas >= 80){
                                return '<label style="background-color: #34E82E;">'+parseInt(calificadas)+'%</label>';
                            }else{
                                return '<label>'+parseInt(calificadas)+'%</label>';   
                            }
                        }

                        return calificadas;
                    }
                },
                {data: null,className:'border-table-asistencias-asignatura', render:function(data, type, row, meta){
                        var grupo = " "+data.grupo_name.toUpperCase()+" ";
                        for(const i in data.cursos_virtuales){
                            
                            if(data.cursos_virtuales[i].fullname.split("-",2)[1] != grupo){
                                return "SI";
                            }        
                        }

                        for(const i in data.cursos_presenciales){
                            if(data.cursos_presenciales[i].fullname.split("-",2)[1] != grupo){
                                return "SI";
                            }
                        }

                        return "NO";
                    }
                },
                {data: null,className:'table-bordered', render:function(data, type, row, meta){
                    
                        var mstr;
                   
                        mstr = '<div class="row">'+                                  
                                    '<div class="col-xs-4 col-sm-4">'+
                                        '<a id="'+data.id+'" target="_blank" title="Ver Informacion" onclick="redireccionar(this)" class="btn btn-block btn-sm  fa fa-eye"></a>'+    
                                    '</div>'+                                                
                                '</div>'; 
                        return mstr;
                    }
                }
            ],

            "deferRender": true,"responsive": false,"processing": true,'serverSider':true,
            "paging": true, "lengthChange": false, "autoWidth": false,"order": [[0,'asc']],
            "dom":'Bfrtip',
            scrollY:        false,
            scrollX:        true,
            scrollCollapse: true,fixedColumns:{
            leftColumns: 4
            },
            buttons:{
                dom:{
                    button:{
                        className:'btn'
                    }
                },
                buttons:[
                    {
                        extend:"excelHtml5",
                        title:"",
                        filename:"Asistencias Estudiantes Linea 3",
                        text:'Exportar a Excel',
                        className: 'btn-outline-success',
                        messageBottom: false,
                        exportOptions: {
                        
                            columns: ':visible th:not("#ultima3")'
                        },
                        customize: function (xlsx) {
                            var sheet = xlsx.xl.worksheets['sheet1.xml'];
                            var mergeCells = $('mergeCells', sheet);
                
                            
                
 
                            function _createNode( doc, nodeName, opts ) {
                                var tempNode = doc.createElement( nodeName );
 
                                if ( opts ) {
                                    if ( opts.attr ) {
                                     $(tempNode).attr( opts.attr );
                                    }
 
                                    if ( opts.children ) {
                                        $.each( opts.children, function ( key, value ) {
                                            tempNode.appendChild( value );
                                        } );
                                    }
 
                                    if ( opts.text !== null && opts.text !== undefined ) {
                                        tempNode.appendChild( doc.createTextNode( opts.text ) );
                                    }
                                }
                                return tempNode;
                            }

                            var numrows = 2;
                            var clR = $('row', sheet);
 
                            //update Row
                            clR.each(function () {
                                var attr = $(this).attr('r');
                                var ind = parseInt(attr);
                                ind = ind + numrows;
                                $(this).attr("r", ind);
                            });
 
                            // Create row before data
                            $('row c ', sheet).each(function () {
                                var attr = $(this).attr('r');
                                var pre = attr.substring(0, 1);
                                var ind = parseInt(attr.substring(1, attr.length));
                                ind = ind + numrows;
                                $(this).attr("r", pre + ind);
                            });
 
                            function Addrow(index, data) {
                            var msg = '<row r="' + index + '">'
                                for (var i = 0; i < data.length; i++) {
                                    var key = data[i].key;
                                    var value = data[i].value;
                                    msg += '<c t="inlineStr" r="' + key + index + '">';
                                    msg += '<is>';
                                    msg += '<t>' + value + '</t>';
                                    msg += '</is>';
                                    msg += '</c>';
                                }
                                msg += '</row>';
                                return msg;
                            }
 
                            var fecha_json = new Date();
                            var titulo = "REPORTE ASISTENCIAS LINEA 3 "+"\n"+"Fecha de generación: "+fecha_json.toLocaleString();

                            var fecha_aceptacion = $("#aceptacion").is(":checked");

                            if(!fecha_aceptacion){
                                var r1 = Addrow(1, [{ key: 'A', value: titulo  }]);
                                var r2 = Addrow(2, [{ key: 'A', value: "Nombres" }])
                                var r3 = Addrow(2, [{ key: 'B', value: "Apellidos" }])
                                var r4 = Addrow(2, [{ key: 'C', value: "Tipo Documento" }])
                                var r5 = Addrow(2, [{ key: 'D', value: "N° Documento" }])
                                var r6 = Addrow(2, [{ key: 'E', value: "Grupo" }])
                                var r7 = Addrow(2, [{ key: 'F', value: "Estado" }])
                                var r11 = Addrow(2, [{ key: 'G', value: "BIOLOGIA" }])
                                var r13 = Addrow(2, [{ key: 'Q', value: "DIALOGO" }])
                                var r14 = Addrow(2, [{ key: 'AA', value: "CONSTITUCION" }])
                                var r16 = Addrow(2, [{ key: 'AK', value: "FISICA" }])
                                var r17 = Addrow(2, [{ key: 'AU', value: "GEOGRAFIA" }])
                                var r18 = Addrow(2, [{ key: 'BE', value: "HISTORIA" }])
                                var r19 = Addrow(2, [{ key: 'BO', value: "INGLES" }])
                                var r20 = Addrow(2, [{ key: 'BY', value: "LECTURA CRITICA" }])
                                var r21 = Addrow(2, [{ key: 'CI', value: "MATEMATICAS" }])
                                var r22 = Addrow(2, [{ key: 'CS', value: "PRACTICAS ARTISTICAS" }])
                                var r23 = Addrow(2, [{ key: 'DC', value: "QUIMICA" }])
                                var r24 = Addrow(2, [{ key: 'DM', value: "TIC" }])
                                var r25 = Addrow(2, [{ key: 'DW', value: "Total" }])
                                var r26 = Addrow(2, [{ key: 'EG', value: "Cambio Grupo" }])
                                sheet.childNodes[0].childNodes[1].innerHTML = r1+r2+r3+r4+r5+r6+r7+r11+r13+r14+r16+r17+r18+r19
                                +r20+r21+r22+r23+r24+r25+r26+sheet.childNodes[0].childNodes[1].innerHTML;

                                $('row c[r="A1"]', sheet).attr( 's', '51' );
                                $('row c[r="A2"]', sheet).attr( 's', '2' );
                                $('row c[r="B2"]', sheet).attr( 's', '2' );
                                $('row c[r="C2"]', sheet).attr( 's', '2' );
                                $('row c[r="D2"]', sheet).attr( 's', '2' );
                                $('row c[r="E2"]', sheet).attr( 's', '2' );
                                $('row c[r="F2"]', sheet).attr( 's', '2' );
                                $('row c[r="G2"]', sheet).attr( 's', '2' );
                                $('row c[r="Q2"]', sheet).attr( 's', '2' );
                                $('row c[r="AA2"]', sheet).attr( 's', '2' );
                                $('row c[r="AK2"]', sheet).attr( 's', '2' );
                                $('row c[r="AU2"]', sheet).attr( 's', '2' );
                                $('row c[r="BE2"]', sheet).attr( 's', '2' );
                                $('row c[r="BO2"]', sheet).attr( 's', '2' );
                                $('row c[r="BY2"]', sheet).attr( 's', '2' );
                                $('row c[r="CI2"]', sheet).attr( 's', '2' );
                                $('row c[r="CS2"]', sheet).attr( 's', '2' );
                                $('row c[r="DC2"]', sheet).attr( 's', '2' );
                                $('row c[r="DM2"]', sheet).attr( 's', '2' );
                                $('row c[r="DW2"]', sheet).attr( 's', '2' );
                                $('row c[r="EG2"]', sheet).attr( 's', '2' );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'A1:EG1',
                                    }
                                } ) );
                    
                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'A2:A3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'B2:B3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'C2:C3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'D2:D3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'E2:E3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'F2:F3',
                                    }
                                } ) );


                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'G2:P2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'Q2:Z2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AA2:AJ2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AK2:AT2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AU2:BD2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BE2:BN2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BO2:BX2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BY2:CH2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'CI2:CR2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'CS2:DB2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DC2:DL2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DM2:DV2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DW2:EF3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'EG2:EG3',
                                    }
                                } ) );
                            }else{
                                var r1 = Addrow(1, [{ key: 'A', value: titulo  }]);
                                var r2 = Addrow(2, [{ key: 'A', value: "Nombres" }])
                                var r3 = Addrow(2, [{ key: 'B', value: "Apellidos" }])
                                var r4 = Addrow(2, [{ key: 'C', value: "Tipo Documento" }])
                                var r5 = Addrow(2, [{ key: 'D', value: "N° Documento" }])
                                var r6 = Addrow(2, [{ key: 'E', value: "Grupo" }])
                                var r7 = Addrow(2, [{ key: 'F', value: "Estado" }])
                                var r8 = Addrow(2, [{ key: 'G', value: "Fecha Aceptacion" }])
                                var r11 = Addrow(2, [{ key: 'H', value: "BIOLOGIA" }])
                                var r13 = Addrow(2, [{ key: 'R', value: "DIALOGO" }])
                                var r14 = Addrow(2, [{ key: 'AB', value: "CONSTITUCION" }])
                                var r16 = Addrow(2, [{ key: 'AL', value: "FISICA" }])
                                var r17 = Addrow(2, [{ key: 'AV', value: "GEOGRAFIA" }])
                                var r18 = Addrow(2, [{ key: 'BF', value: "HISTORIA" }])
                                var r19 = Addrow(2, [{ key: 'BP', value: "INGLES" }])
                                var r20 = Addrow(2, [{ key: 'BZ', value: "LECTURA CRITICA" }])
                                var r21 = Addrow(2, [{ key: 'CJ', value: "MATEMATICAS" }])
                                var r22 = Addrow(2, [{ key: 'CT', value: "PRACTICAS ARTISTICAS" }])
                                var r23 = Addrow(2, [{ key: 'DD', value: "QUIMICA" }])
                                var r24 = Addrow(2, [{ key: 'DN', value: "TIC" }])
                                var r25 = Addrow(2, [{ key: 'DX', value: "Total" }])
                                var r26 = Addrow(2, [{ key: 'EH', value: "Cambio Grupo" }])
                                sheet.childNodes[0].childNodes[1].innerHTML = r1+r2+r3+r4+r5+r6+r7+r8+r11+r13+r14+r16+r17+r18+r19
                                +r20+r21+r22+r23+r24+r25+r26+sheet.childNodes[0].childNodes[1].innerHTML;

                                $('row c[r="A1"]', sheet).attr( 's', '51' );
                                $('row c[r="A2"]', sheet).attr( 's', '2' );
                                $('row c[r="B2"]', sheet).attr( 's', '2' );
                                $('row c[r="C2"]', sheet).attr( 's', '2' );
                                $('row c[r="D2"]', sheet).attr( 's', '2' );
                                $('row c[r="E2"]', sheet).attr( 's', '2' );
                                $('row c[r="F2"]', sheet).attr( 's', '2' );
                                $('row c[r="G2"]', sheet).attr( 's', '2' );
                                $('row c[r="H2"]', sheet).attr( 's', '2' );
                                $('row c[r="R2"]', sheet).attr( 's', '2' );
                                $('row c[r="AB2"]', sheet).attr( 's', '2' );
                                $('row c[r="AL2"]', sheet).attr( 's', '2' );
                                $('row c[r="AV2"]', sheet).attr( 's', '2' );
                                $('row c[r="BF2"]', sheet).attr( 's', '2' );
                                $('row c[r="BP2"]', sheet).attr( 's', '2' );
                                $('row c[r="BZ2"]', sheet).attr( 's', '2' );
                                $('row c[r="CJ2"]', sheet).attr( 's', '2' );
                                $('row c[r="CT2"]', sheet).attr( 's', '2' );
                                $('row c[r="DD2"]', sheet).attr( 's', '2' );
                                $('row c[r="DN2"]', sheet).attr( 's', '2' );
                                $('row c[r="DX2"]', sheet).attr( 's', '2' );
                                $('row c[r="EH2"]', sheet).attr( 's', '2' );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'A1:EH1',
                                    }
                                } ) );
                    
                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'A2:A3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'B2:B3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'C2:C3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'D2:D3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'E2:E3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'F2:F3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'G2:G3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'H2:Q2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'R2:AA2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AB2:AK2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AL2:AU2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'AV2:BE2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BF2:BO2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BP2:BY2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'BZ2:CI2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'CJ2:CS2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'CT2:DC2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DD2:DM2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DN2:DW2',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'DX2:EG3',
                                    }
                                } ) );

                                mergeCells[0].appendChild( _createNode( sheet, 'mergeCell', {
                                     attr: {
                                        ref: 'EH2:EH3',
                                    }
                                } ) );
                            }    
                            mergeCells.attr( 'count', mergeCells.attr( 'count' )+1 );
                        },
                    }
                ]
            }
        });

        $('.filtroCohortes').on('change',function(){
            var fecha_aceptacion = $("#aceptacion").is(":checked");

            if(fecha_aceptacion){
                $("input[type='radio'][name='filtro'][value='12']").prop('checked',true);
                var tabla= $('#Ecohort').val();
                if(tabla == 1){
                    $('#example1').DataTable().ajax.reload();
                    table.columns(6).visible(true);
                }else if(tabla == 2){
                    $('#example2').DataTable().ajax.reload();
                    table2.columns(6).visible(true);
                }else if(tabla == 3){
                    $('#example3').DataTable().ajax.reload();
                    table3.columns(6).visible(true);
                }
                $("input[type='radio'][name='filtro'][value='1']").prop('checked',true);
                document.querySelectorAll(`input[name="filtro"]`).forEach(element => {
                    if(element.value > 1 && element.value <= 11) {
                        element.setAttribute('disabled', true);
                    }
                });
                                   
            }else{
                document.querySelectorAll(`input[name="filtro"]`).forEach(element => {
                    if(element.value > 1 && element.value <= 11) {
                        element.removeAttribute('disabled', true);
                    }
                });
                $("input[type='radio'][name='filtro'][value='10']").prop('checked',true);
                var tabla= $('#Ecohort').val();
                if(tabla == 1){
                    $('#example1').DataTable().ajax.reload();
                    table.columns(6).visible(false);
                }else if(tabla == 2){
                    $('#example2').DataTable().ajax.reload();
                    table2.columns(6).visible(false);
                }else if(tabla == 3){
                    $('#example3').DataTable().ajax.reload();
                    table3.columns(6).visible(false);
                }
            }

            var virtual = $("#virtual").is(":checked");

            var presencial = $("#presencial").is(":checked");

            var tabla= $('#Ecohort').val();

            switch(tabla){
                case '1':
                    if(!virtual){
                        table.columns([8,9,10]).visible(false);
                        table.columns([18,19,20]).visible(false);
                        table.columns([28,29,30]).visible(false);
                        table.columns([38,39,40]).visible(false);
                        table.columns([48,49,50]).visible(false);
                        table.columns([58,59,60]).visible(false);
                        table.columns([68,69,70]).visible(false);
                        table.columns([78,79,80]).visible(false);
                        table.columns([88,89,90]).visible(false);
                        table.columns([98,99,100]).visible(false);
                        table.columns([108,109,110]).visible(false);
                        table.columns([118,119,120]).visible(false);
                        table.columns([128,129,130]).visible(false);
                        table.columns([138,139,140]).visible(false);
                        table.columns([148,149,150]).visible(false);
                    }else if(virtual){
                        table.columns([8,9,10]).visible(true);
                        table.columns([18,19,20]).visible(true);
                        table.columns([28,29,30]).visible(true);
                        table.columns([38,39,40]).visible(true);
                        table.columns([48,49,50]).visible(true);
                        table.columns([58,59,60]).visible(true);
                        table.columns([68,69,70]).visible(true);
                        table.columns([78,79,80]).visible(true);
                        table.columns([88,89,90]).visible(true);
                        table.columns([98,99,100]).visible(true);
                        table.columns([108,109,110]).visible(true);
                        table.columns([118,119,120]).visible(true);
                        table.columns([128,129,130]).visible(true);
                        table.columns([138,139,140]).visible(true);
                        table.columns([148,149,150]).visible(true);
                    }
            
                    if(!presencial){ 
                        table.columns([11,12,13]).visible(false);
                        table.columns([21,22,23]).visible(false);
                        table.columns([31,32,33]).visible(false);
                        table.columns([41,42,43]).visible(false);
                        table.columns([51,52,53]).visible(false);
                        table.columns([61,62,63]).visible(false);
                        table.columns([71,72,73]).visible(false);
                        table.columns([81,82,83]).visible(false);
                        table.columns([91,92,93]).visible(false);
                        table.columns([101,102,103]).visible(false);
                        table.columns([111,112,113]).visible(false);
                        table.columns([121,122,123]).visible(false);
                        table.columns([131,132,133]).visible(false);
                        table.columns([141,142,143]).visible(false);
                        table.columns([151,152,153]).visible(false);
                    }else if(presencial){
                        table.columns([11,12,13]).visible(true);
                        table.columns([21,22,23]).visible(true);
                        table.columns([31,32,33]).visible(true);
                        table.columns([41,42,43]).visible(true);
                        table.columns([51,52,53]).visible(true);
                        table.columns([61,62,63]).visible(true);
                        table.columns([71,72,73]).visible(true);
                        table.columns([81,82,83]).visible(true);
                        table.columns([91,92,93]).visible(true);
                        table.columns([101,102,103]).visible(true);
                        table.columns([111,112,113]).visible(true);
                        table.columns([121,122,123]).visible(true);
                        table.columns([131,132,133]).visible(true);
                        table.columns([141,142,143]).visible(true);
                        table.columns([151,152,153]).visible(true);
                    }

                    if(presencial && virtual){

                        //VIRTUAL
                        table.columns([8,9,10]).visible(true);
                        table.columns([18,19,20]).visible(true);
                        table.columns([28,29,30]).visible(true);
                        table.columns([38,39,40]).visible(true);
                        table.columns([48,49,50]).visible(true);
                        table.columns([58,59,60]).visible(true);
                        table.columns([68,69,70]).visible(true);
                        table.columns([78,79,80]).visible(true);
                        table.columns([88,89,90]).visible(true);
                        table.columns([98,99,100]).visible(true);
                        table.columns([108,109,110]).visible(true);
                        table.columns([118,119,120]).visible(true);
                        table.columns([128,129,130]).visible(true);
                        table.columns([138,139,140]).visible(true);
                        table.columns([148,149,150]).visible(true);

                        //PRESENCIAL
                        table.columns([11,12,13]).visible(true);
                        table.columns([21,22,23]).visible(true);
                        table.columns([31,32,33]).visible(true);
                        table.columns([41,42,43]).visible(true);
                        table.columns([51,52,53]).visible(true);
                        table.columns([61,62,63]).visible(true);
                        table.columns([71,72,73]).visible(true);
                        table.columns([81,82,83]).visible(true);
                        table.columns([91,92,93]).visible(true);
                        table.columns([101,102,103]).visible(true);
                        table.columns([111,112,113]).visible(true);
                        table.columns([121,122,123]).visible(true);
                        table.columns([131,132,133]).visible(true);
                        table.columns([141,142,143]).visible(true);
                        table.columns([151,152,153]).visible(true);
                    }

                    break;
                case '2':
                    if(!virtual){
                        table2.columns([8,9,10]).visible(false);
                        table2.columns([18,19,20]).visible(false);
                        table2.columns([28,29,30]).visible(false);
                        table2.columns([38,39,40]).visible(false);
                        table2.columns([48,49,50]).visible(false);
                        table2.columns([58,59,60]).visible(false);
                        table2.columns([68,69,70]).visible(false);
                        table2.columns([78,79,80]).visible(false);
                        table2.columns([88,89,90]).visible(false);
                        table2.columns([98,99,100]).visible(false);
                        table2.columns([108,109,110]).visible(false);
                        table2.columns([118,119,120]).visible(false);
                        table2.columns([128,129,130]).visible(false);
                        table2.columns([138,139,140]).visible(false);
                    }else if(virtual){
                        table2.columns([8,9,10]).visible(true);
                        table2.columns([18,19,20]).visible(true);
                        table2.columns([28,29,30]).visible(true);
                        table2.columns([38,39,40]).visible(true);
                        table2.columns([48,49,50]).visible(true);
                        table2.columns([58,59,60]).visible(true);
                        table2.columns([68,69,70]).visible(true);
                        table2.columns([78,79,80]).visible(true);
                        table2.columns([88,89,90]).visible(true);
                        table2.columns([98,99,100]).visible(true);
                        table2.columns([108,109,110]).visible(true);
                        table2.columns([118,119,120]).visible(true);
                        table2.columns([128,129,130]).visible(true);
                        table2.columns([138,139,140]).visible(true);
                    }
            
                    if(!presencial){ 
                        table2.columns([11,12,13]).visible(false);
                        table2.columns([21,22,23]).visible(false);
                        table2.columns([31,32,33]).visible(false);
                        table2.columns([41,42,43]).visible(false);
                        table2.columns([51,52,53]).visible(false);
                        table2.columns([61,62,63]).visible(false);
                        table2.columns([71,72,73]).visible(false);
                        table2.columns([81,82,83]).visible(false);
                        table2.columns([91,92,93]).visible(false);
                        table2.columns([101,102,103]).visible(false);
                        table2.columns([111,112,113]).visible(false);
                        table2.columns([121,122,123]).visible(false);
                        table2.columns([131,132,133]).visible(false);
                        table2.columns([141,142,143]).visible(false);
                    }else if(presencial){
                        table2.columns([11,12,13]).visible(true);
                        table2.columns([21,22,23]).visible(true);
                        table2.columns([31,32,33]).visible(true);
                        table2.columns([41,42,43]).visible(true);
                        table2.columns([51,52,53]).visible(true);
                        table2.columns([61,62,63]).visible(true);
                        table2.columns([71,72,73]).visible(true);
                        table2.columns([81,82,83]).visible(true);
                        table2.columns([91,92,93]).visible(true);
                        table2.columns([101,102,103]).visible(true);
                        table2.columns([111,112,113]).visible(true);
                        table2.columns([121,122,123]).visible(true);
                        table2.columns([131,132,133]).visible(true);
                        table2.columns([141,142,143]).visible(true);
                    }

                    if(presencial && virtual){

                        //VIRTUAL
                        table2.columns([8,9,10]).visible(true);
                        table2.columns([18,19,20]).visible(true);
                        table2.columns([28,29,30]).visible(true);
                        table2.columns([38,39,40]).visible(true);
                        table2.columns([48,49,50]).visible(true);
                        table2.columns([58,59,60]).visible(true);
                        table2.columns([68,69,70]).visible(true);
                        table2.columns([78,79,80]).visible(true);
                        table2.columns([88,89,90]).visible(true);
                        table2.columns([98,99,100]).visible(true);
                        table2.columns([108,109,110]).visible(true);
                        table2.columns([118,119,120]).visible(true);
                        table2.columns([128,129,130]).visible(true);
                        table2.columns([138,139,140]).visible(true);
                        
                        //PRESENCIAL
                        table2.columns([11,12,13]).visible(true);
                        table2.columns([21,22,23]).visible(true);
                        table2.columns([31,32,33]).visible(true);
                        table2.columns([41,42,43]).visible(true);
                        table2.columns([51,52,53]).visible(true);
                        table2.columns([61,62,63]).visible(true);
                        table2.columns([71,72,73]).visible(true);
                        table2.columns([81,82,83]).visible(true);
                        table2.columns([91,92,93]).visible(true);
                        table2.columns([101,102,103]).visible(true);
                        table2.columns([111,112,113]).visible(true);
                        table2.columns([121,122,123]).visible(true);
                        table2.columns([131,132,133]).visible(true);
                        table2.columns([141,142,143]).visible(true);
                    }

                    break;
                case '3':
                    if(!virtual){
                        table3.columns([8,9,10]).visible(false);
                        table3.columns([18,19,20]).visible(false);
                        table3.columns([28,29,30]).visible(false);
                        table3.columns([38,39,40]).visible(false);
                        table3.columns([48,49,50]).visible(false);
                        table3.columns([58,59,60]).visible(false);
                        table3.columns([68,69,70]).visible(false);
                        table3.columns([78,79,80]).visible(false);
                        table3.columns([88,89,90]).visible(false);
                        table3.columns([98,99,100]).visible(false);
                        table3.columns([108,109,110]).visible(false);
                        table3.columns([118,119,120]).visible(false);
                    }else if(virtual){
                        table3.columns([8,9,10]).visible(true);
                        table3.columns([18,19,20]).visible(true);
                        table3.columns([28,29,30]).visible(true);
                        table3.columns([38,39,40]).visible(true);
                        table3.columns([48,49,50]).visible(true);
                        table3.columns([58,59,60]).visible(true);
                        table3.columns([68,69,70]).visible(true);
                        table3.columns([78,79,80]).visible(true);
                        table3.columns([88,89,90]).visible(true);
                        table3.columns([98,99,100]).visible(true);
                        table3.columns([108,109,110]).visible(true);
                        table3.columns([118,119,120]).visible(true);
                    }
            
                    if(!presencial){ 
                        table3.columns([11,12,13]).visible(false);
                        table3.columns([21,22,23]).visible(false);
                        table3.columns([31,32,33]).visible(false);
                        table3.columns([41,42,43]).visible(false);
                        table3.columns([51,52,53]).visible(false);
                        table3.columns([61,62,63]).visible(false);
                        table3.columns([71,72,73]).visible(false);
                        table3.columns([81,82,83]).visible(false);
                        table3.columns([91,92,93]).visible(false);
                        table3.columns([101,102,103]).visible(false);
                        table3.columns([111,112,113]).visible(false);
                        table3.columns([121,122,123]).visible(false);
                    }else if(presencial){
                        table3.columns([11,12,13]).visible(true);
                        table3.columns([21,22,23]).visible(true);
                        table3.columns([31,32,33]).visible(true);
                        table3.columns([41,42,43]).visible(true);
                        table3.columns([51,52,53]).visible(true);
                        table3.columns([61,62,63]).visible(true);
                        table3.columns([71,72,73]).visible(true);
                        table3.columns([81,82,83]).visible(true);
                        table3.columns([91,92,93]).visible(true);
                        table3.columns([101,102,103]).visible(true);
                        table3.columns([111,112,113]).visible(true);
                        table3.columns([121,122,123]).visible(true);
                    }

                    if(presencial && virtual){

                        //VIRTUAL
                        table3.columns([8,9,10]).visible(true);
                        table3.columns([18,19,20]).visible(true);
                        table3.columns([28,29,30]).visible(true);
                        table3.columns([38,39,40]).visible(true);
                        table3.columns([48,49,50]).visible(true);
                        table3.columns([58,59,60]).visible(true);
                        table3.columns([68,69,70]).visible(true);
                        table3.columns([78,79,80]).visible(true);
                        table3.columns([88,89,90]).visible(true);
                        table3.columns([98,99,100]).visible(true);
                        table3.columns([108,109,110]).visible(true);
                        table3.columns([118,119,120]).visible(true);
                        
                        //PRESENCIAL
                        table3.columns([11,12,13]).visible(true);
                        table3.columns([21,22,23]).visible(true);
                        table3.columns([31,32,33]).visible(true);
                        table3.columns([41,42,43]).visible(true);
                        table3.columns([51,52,53]).visible(true);
                        table3.columns([61,62,63]).visible(true);
                        table3.columns([71,72,73]).visible(true);
                        table3.columns([81,82,83]).visible(true);
                        table3.columns([91,92,93]).visible(true);
                        table3.columns([101,102,103]).visible(true);
                        table3.columns([111,112,113]).visible(true);
                        table3.columns([121,122,123]).visible(true);
                    }

                    break;
                default:
                console.log("ERROR CONTACTE AL ADMINISTRADOR");
            }   
        });
    }    
    
    $('#Ecohort').change(function(event){
        //alert(event.target.value);
        $("#aceptacion").prop("checked", false);
        document.querySelectorAll(`input[name="filtro"]`).forEach(element => {
            if(element.value > 1 && element.value <= 11) {
                element.removeAttribute('disabled', true);
            }
        });
        $("input[type='radio'][name='filtro'][value='10']").prop('checked',true);

        if(event.target.value == 1){
            
            document.getElementById("tabla_1").removeAttribute('style', 'display:none');
            document.getElementById("div_1").removeAttribute('style', 'display:none');
            document.getElementById("octubre").checked = true;
            $('#example1').DataTable().ajax.reload();
            table.columns(7).visible(false); 
        }else{
 
            document.getElementById("tabla_1").setAttribute('style', 'display:none');
            document.getElementById("div_1").setAttribute('style', 'display:none');
            
        }
        if(event.target.value == 2){
            
            document.getElementById("tabla_2").removeAttribute('style', 'display:none');
            document.getElementById("div_1").removeAttribute('style', 'display:none');
            document.getElementById("octubre").checked = true;
            $('#example2').DataTable().ajax.reload();
            table2.columns(7).visible(false);   
        }else{
 
            document.getElementById("tabla_2").setAttribute('style', 'display:none');
        }
        if(event.target.value == 3){
            document.getElementById("tabla_3").removeAttribute('style', 'display:none');
            document.getElementById("div_1").removeAttribute('style', 'display:none');
            document.getElementById("octubre").checked = true;
            $('#example3').DataTable().ajax.reload();
            table3.columns(7).visible(false);
        }else{
 
            document.getElementById("tabla_3").setAttribute('style', 'display:none');
        }
    });

    $('.asistencias_mes').on('change', function() {
        var tabla= $('#Ecohort').val();
        
        if(tabla == 1){
            $('#example1').DataTable().ajax.reload();
            toastr.success("Cambio exitoso!!");
        }else if(tabla == 2){
            $('#example2').DataTable().ajax.reload();
            toastr.success("Cambio exitoso!!");
        }else if(tabla == 3){
            $('#example3').DataTable().ajax.reload();
            toastr.success("Cambio exitoso!!");
        }               
    });

    function abrir_modal(id_course,id_student){
        $("#recargar").load(" #recargar > *");
        var i
                    for (i = 0; i < document.mes.filtro.length; i++){ 
                        if (document.mes.filtro[i].checked) {
                            break; 
                        }
                    }
        var mes = document.mes.filtro[i].value;
        $.get("/detalles_sesiones/"+id_student+"/"+id_course+"/"+mes+"",function(response,municipios){
            //console.log(response)
            if(response.length == 0){
                alert("ESTE CURSO NO TIENE SESIONES REGISTRADAS EN EL SISTEMA")
            }else{
                $('#nombre').text(response[0].estudiante)
                $('#mensaje').text(response[0].curso," ",response[0].grupo_linea);
                $.each(response,function(index,sesiones){
                    //console.log(sesiones)
                    
                    let i = document.createElement('i');
                    let h6 = document.createElement('h6');
                    
                    if(sesiones.asistio == "SI" && sesiones.calificada == "SI"){
                        h6.innerHTML = sesiones.asistio;
                        i.className += "btn  btn-sm  fa fa-check";
                        i.setAttribute('style', "color: #2ECC71");
                    }else if(sesiones.asistio == "NO" && sesiones.calificada == "SI"){
                        h6.innerHTML = sesiones.asistio;
                        i.className += "btn  btn-sm  fa fa-times";
                        i.setAttribute('style', "color: red");
                    }else{
                        i.className += "btn  btn-sm  fa fa-minus";
                        i.setAttribute('style', "color: gray");
                    }
                    h6.appendChild(i);
                    let row_2 = document.createElement('tr');
                    let row_2_data_1 = document.createElement('td');
                    let row_2_data_2 = document.createElement('td');
                    row_2_data_1.innerHTML = sesiones.date_session;
                    row_2_data_2.appendChild(h6);
                    row_2.appendChild(row_2_data_1);
                    row_2.appendChild(row_2_data_2);
                    document.getElementById("sesiones").appendChild(row_2);
                });
                $("#sesiones_tabla").DataTable({
                            "processing": true,
                            "LoadingRecords":true,
                            "paging": true,
                            "deferRender": true,
                            "lengthChange": false,
                            "searching": true,
                            "ordering": true,
                            "order": [ 0, 'desc'],
                            "info": true,
                            "autoWidth": false,
                            "responsive": true,
                            "language": {
                                "url": "https://cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Spanish.json"
                            },
                            "dom": 'Bfrtip',
                            "buttons": ["copy","excel", "pdf", "print"]
                });
                $('#modal_sesiones').modal('show');
            }
        });      
    }  
